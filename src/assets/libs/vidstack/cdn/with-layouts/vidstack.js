import{D as tt,C as y,g as vs,s as vt,o as T,e as l,l as u,i as ys,a as Wt,b as U,c as Ka,d as Ua,f as m,V as J,h as x,j as ke,p as d,k as D,m as rt,w as Qa,t as ot,n as $s,q as we,r as F,u as G,v as at,x as za,y as Wa,z as $,A as j,B as Xa,S as yt,E as ht,F as L,G as Xt,H as Ga,I as Mt,J as ks,K as Z,L as Lt,M as Ya,N as ws,O as Ja,P as Za,Q as _a,R as v,T as f,U as xs,W as Gt,X as tn}from"./chunks/vidstack-T8_rhZ1R.js";import{L as Ts,u as g,s as en,m as sn,P as Yt,a as an}from"./chunks/vidstack-zt_l3erb.js";import{i as I,T as R,a as xe,g as Te,p as Es,b as nn,f as rn,o as Jt,c as on}from"./chunks/vidstack-JHQBm8kb.js";import{L as V,c as hn,I as Ps,a as ln,b as cn,i as Ss,d as dn}from"./chunks/vidstack-79gOJK6z.js";import{Q as $t,c as Ee}from"./chunks/vidstack-t8cI5qlS.js";import{c as Pe,A as un,a as pn,V as mn,b as gn,i as Se,r as H,g as bn}from"./chunks/vidstack-VqnbsHoK.js";import{lazyPaths as Cs}from"https://cdn.jsdelivr.net/npm/media-icons@next/dist/lazy.js";class fn{constructor(t=void 0){this.tb=t,this.A=null,this.aa=null,this.Pc=-1}setTarget(t){this.A=t}getPlayer(t){return this.aa?this.aa:((t??this.A)?.dispatchEvent(new tt("find-media-player",{detail:e=>void(this.aa=e),bubbles:!0,composed:!0})),this.aa)}setPlayer(t){this.aa=t}startLoading(t){this.s("media-start-loading",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t?.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t?.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t?.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e?.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t?.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}disableCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const n=s.indexOf(i);this.changeTextTrackMode(n,"disabled",t)}}toggleCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const n=s.indexOf(i);this.changeTextTrackMode(n,"disabled",t),this.Pc=n}else{let n=this.Pc;(!s[n]||!I(s[n]))&&(n=-1),n===-1&&(n=s.findIndex(r=>I(r)&&r.default)),n===-1&&(n=s.findIndex(r=>I(r))),n>=0&&this.changeTextTrackMode(n,"showing",t),this.Pc=-1}}s(t,e,s){const i=new tt(t,{bubbles:!0,composed:!0,detail:s,trigger:e});let n=e?.target||null;n&&n instanceof y&&(n=n.el),n=!n||n===document||n===window||n===document.body||this.aa?.el&&n instanceof Node&&!this.aa.el.contains(n)?this.A??this.getPlayer()?.el:n??this.A,this.aa?this.aa.canPlayQueue.k(t,()=>n?.dispatchEvent(i)):n?.dispatchEvent(i)}za(t){}}function E(a,t,e){a.hasAttribute(t)||a.setAttribute(t,e)}function kt(a,t){if(a.hasAttribute("aria-label"))return;function e(){m(a,"aria-label",t())}l(e)}function As(a,t,e){for(;t;){if(t===a)return!0;if(e?.(t))break;t=t.parentElement}return!1}function lt(a,t){u(a,"pointerup",e=>{e.button===0&&t(e)}),u(a,"keydown",e=>{ys(e)&&t(e)})}function Ce(a){return Wt(a)&&(a.touches.length>1||a.changedTouches.length>1)}function ct(a){let t=vs(),e=window.requestAnimationFrame(()=>{vt(a,t),e=-1});return()=>void window.cancelAnimationFrame(e)}function Ms(a,t,e){let s,i=a,n=a.parentElement,r=a.content.firstElementChild,o=[];!r&&a.firstElementChild&&(a.innerHTML=a.firstElementChild.outerHTML,a.firstElementChild.remove(),r=a.content.firstElementChild);for(let h=0;h<t;h++)s=document.importNode(r,!0),e?.(s,h),n.insertBefore(s,i.nextSibling),o.push(s),i=s;return T(()=>{for(let h=0;h<o.length;h++)o[h].remove()}),o}function Ae(a){const t=document.createElement("template");return t.innerHTML=a,t.content}function Me(a){return a.cloneNode(!0).firstElementChild}function Ls(a,t,e,{offsetVarName:s,xOffset:i,yOffset:n,...r}){if(!a)return;const o=e.replace(" ","-").replace("-center","");if(U(a,"visibility",t?null:"hidden"),!t)return;const h=c=>e.includes("top")?`calc(-1 * ${c})`:c;return Ka(t,a,()=>{Ua(t,a,{placement:o,...r}).then(({x:c,y:p})=>{Object.assign(a.style,{top:`calc(${p+"px"} + ${h(n?n+"px":`var(--${s}-y-offset, 0px)`)})`,left:`calc(${c+"px"} + ${i?i+"px":`var(--${s}-x-offset, 0px)`})`})})})}function vn(a){return getComputedStyle(a).animationName!=="none"}class wt extends J{}class yn extends wt{constructor(){super(...arguments),this.Qc=-2,this.Xa=!1,this.ze=x(!1),this.Rc=x(!1),this.wb=null,this.defaultDelay=2e3}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.ze()||t()}set hideOnMouseLeave(t){this.ze.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Sc(),this.Xa||this.bc(!0,t,e)}hide(t=this.defaultDelay,e){this.Sc(),this.Xa||this.bc(!1,t,e)}pause(t){this.Xa=!0,this.Sc(),this.bc(!0,0,t)}resume(t){this.Xa=!1,!this.$state.paused()&&this.bc(!1,this.defaultDelay,t)}onConnect(){l(this.bg.bind(this)),l(this.Tc.bind(this));const t=this.xb.bind(this),e=this.Aa.bind(this);this.listen("can-play",s=>this.show(0,s)),this.listen("play",t),this.listen("pause",e),this.listen("autoplay-fail",e)}bg(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const i=this.hideOnMouseLeave;(!i||!this.Rc())&&l(()=>{s()||this.listen("pointermove",this.Ae.bind(this))}),i&&(this.listen("mouseenter",this.cg.bind(this)),this.listen("mouseleave",this.dg.bind(this)))}Tc(){const{paused:t,started:e,autoplayError:s}=this.$state;if(t()||s()&&!e())return;const i=this.Ae.bind(this);l(()=>{const n=this.$state.pointer(),r=n==="coarse",o=[r?"touchend":"pointerup","keydown"];for(const h of o)this.listen(h,i,{passive:!1})})}xb(t){this.show(0,t),this.hide(void 0,t)}Aa(t){this.show(0,t)}cg(t){this.Rc.set(!1),this.show(0,t),this.hide(void 0,t)}dg(t){this.Rc.set(!0),this.hide(0,t)}Sc(){window.clearTimeout(this.Qc),this.Qc=-1}Ae(t){t.MEDIA_GESTURE||this.Xa||Ce(t)||(ke(t)&&(t.key==="Escape"?(this.el?.focus(),this.wb=null):this.wb&&(t.preventDefault(),requestAnimationFrame(()=>{this.wb?.focus(),this.wb=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}bc(t,e,s){if(e===0){this.B(t,s);return}this.Qc=window.setTimeout(()=>{this.scope&&this.B(t&&!this.Xa,s)},e)}B(t,e){this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&this.el?.contains(document.activeElement)&&(this.wb=document.activeElement,requestAnimationFrame(()=>this.el?.focus())),this.dispatch("controls-change",{detail:t,trigger:e}))}}class $n{constructor(){this.priority=0,this.Be=!0,this.m=null,this.z=null,this.yb=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.B.bind(this))}addTrack(t){this.yb.add(t),this.eg(t)}removeTrack(t){t[R.T]?.remove?.(),t[R.T]=null,this.yb.delete(t)}changeTrack(t){const e=t?.[R.T];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.z=t}setDisplay(t){this.Be=t,this.B()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.yb)this.removeTrack(t);this.yb.clear(),this.m=null,this.z=null}eg(t){var e;if(!this.m)return;const s=t[e=R.T]??(t[e]=this.fg(t));s instanceof HTMLElement&&(this.m.append(s),s.track.mode=s.default?"showing":"hidden")}fg(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",i=t.src&&t.type==="vtt";return e.id=t.id,e.src=i?t.src:"https://cdn.jsdelivr.net/npm/vidstack@next/empty.vtt",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!i&&this.Ce(t,e.track),e}Ce(t,e){if(!(t.src&&t.type==="vtt"||e.cues?.length))for(const s of t.cues)e.addCue(s)}B(t){for(const e of this.yb){const s=e[R.T]?.track;if(!s)continue;if(!this.Be){s.mode="disabled";continue}const i=s.mode==="showing";i&&this.Ce(e,s),e.setMode(i?"showing":"disabled",t)}}}class kn{constructor(t){this.a=t,this.m=null,this.cc=[],this.De=!1,this.ba=null,this.Ba=null;const e=t.textTracks;this.Uc=e,l(this.Vc.bind(this)),T(this.Ee.bind(this)),u(e,"add",this.Wc.bind(this)),u(e,"remove",this.gg.bind(this)),u(e,"mode-change",this.ea.bind(this))}Vc(){const{$state:t,$iosControls:e}=this.a;this.De=t.controls()||e(),this.ea()}add(t){this.cc.push(t),this.ea()}remove(t){t.detach(),this.cc.splice(this.cc.indexOf(t),1),this.ea()}Fe(t){requestAnimationFrame(()=>{if(this.m=t,t){this.ba=new $n,this.ba.attach(t);for(const e of this.Uc)this.Ge(e)}this.ea()})}Ge(t){I(t)&&this.ba?.addTrack(t)}hg(t){I(t)&&this.ba?.removeTrack(t)}Wc(t){this.Ge(t.detail)}gg(t){this.hg(t.detail)}ea(){const t=this.Uc.selected;if(this.m&&(this.De||t?.[R.te])){this.Ba?.changeTrack(null),this.ba?.setDisplay(!0),this.ba?.changeTrack(t);return}if(this.ba?.setDisplay(!1),this.ba?.changeTrack(null),!t){this.Ba?.changeTrack(null);return}const e=this.cc.sort((s,i)=>s.priority-i.priority).find(s=>s.canRender(t,this.m));this.Ba!==e&&(this.Ba?.detach(),e?.attach(this.m),this.Ba=e??null),e?.changeTrack(t)}Ee(){this.ba?.detach(),this.ba=null,this.Ba?.detach(),this.Ba=null}}class wn extends Ts{constructor(){super(...arguments),this.P=!1,this.dc={},this.Je=this.ig.bind(this)}get selected(){return this.r.find(t=>t.mode==="showing"&&I(t))??null}add(t,e){const s=t instanceof xe,i=s?t:new xe(t);return this.dc[t.kind]&&t.default&&delete t.default,i.addEventListener("mode-change",this.Je),this[V.oa](i,e),i[R.Sa]=this[R.Sa],this.P&&i[R.P](),t.default&&(this.dc[t.kind]=i,i.mode="showing"),this}remove(t,e){if(this.r.includes(t))return t===this.dc[t.kind]&&delete this.dc[t.kind],t.mode="disabled",t[R.Ua]=null,t.removeEventListener("mode-change",this.Je),this[V.Yb](t,e),this}clear(t){for(const e of[...this.r])this.remove(e,t);return this}getById(t){return this.r.find(e=>e.id===t)??null}getByKind(t){const e=Array.isArray(t)?t:[t];return this.r.filter(s=>e.includes(s.kind))}[R.P](){if(!this.P){for(const t of this.r)t[R.P]();this.P=!0}}ig(t){const e=t.detail;if(e.mode==="showing"){const s=I(e)?["captions","subtitles"]:[e.kind];for(const i of this.r)i.mode==="showing"&&i!=e&&s.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new tt("mode-change",{detail:t.detail,trigger:t}))}}const jt=Symbol(0);class js extends Ts{get selected(){return this.r.find(t=>t.selected)??null}get selectedIndex(){return this.r.findIndex(t=>t.selected)}[V.oe](t,e){this[V.pa](t,!1,e)}[V.oa](t,e){t[jt]=!1,Object.defineProperty(t,"selected",{get(){return this[jt]},set:s=>{this.readonly||(this[V.pe]?.(),this[V.pa](t,s))}}),super[V.oa](t,e)}[V.pa](t,e,s){if(e===t?.[jt])return;const i=this.selected;t&&(t[jt]=e),(e?i!==t:i===t)&&(i&&(i[jt]=!1),this.dispatchEvent(new tt("change",{detail:{prev:i,current:this.selected},trigger:s})))}}class xn extends js{getById(t){return t===""?null:this.r.find(e=>e.id===t)??null}}class Tn extends js{constructor(){super(...arguments),this.fc=!1,this.switch="current"}get auto(){return this.fc||this.readonly}[V.pe](){this[$t.Ya](!1)}[V.ne](t){this[$t.Ya](!1,t)}autoSelect(t){this.readonly||this.fc||!this[$t.Za]||(this[$t.Za]?.(),this[$t.Ya](!0,t))}[$t.Ya](t,e){this.fc!==t&&(this.fc=t,this.dispatchEvent(new tt("auto-change",{detail:t,trigger:e})))}}function En(a){return a instanceof HTMLAudioElement}function Pn(a){return a instanceof HTMLVideoElement}function Sn(a){return En(a)||Pn(a)}const Cn={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},Os=new Set(["Shift","Alt","Meta","Control"]),An='button, [role="button"]',Ns='input, textarea, select, [contenteditable], [role^="menuitem"]';class Mn extends wt{constructor(t){super(),this.a=t,this.ot=null}onConnect(){l(this.mg.bind(this))}mg(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,i=x(!1);s===this.el?(this.listen("focusin",()=>i.set(!0)),this.listen("focusout",n=>{this.el.contains(n.target)||i.set(!1)})):(d(i)||i.set(document.querySelector("[data-media-player]")===this.el),u(document,"focusin",n=>{const r=n.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");r!==void 0&&i.set(this.el===r)})),l(()=>{i()&&(u(s,"keyup",this.zb.bind(this)),u(s,"keydown",this.Ab.bind(this)),u(s,"keydown",this.ng.bind(this),{capture:!0}))})}zb(t){const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e?.matches(Ns))return;let{method:s,value:i}=this.Zc(t);if(!D(i)&&!rt(i)){i?.callback(t);return}s?.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this.ot?(this.Ne(t,s==="seekForward"),this.ot=null):(this.a.remote.seek(this.gc,t),this.gc=void 0)),s?.startsWith("volume")&&this.el.querySelector("[data-media-volume-slider]")?.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}Ab(t){if(!t.key||Os.has(t.key))return;const e=document.activeElement;if(e?.matches(Ns)||ys(t)&&e?.matches(An))return;let{method:s,value:i}=this.Zc(t);if(!D(i)&&!rt(i)){i?.callback(t);return}if(!s&&!t.metaKey&&/[0-9]/.test(t.key)){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s)switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.qa(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const n=this.el.querySelector("[data-media-volume-slider]");if(n)n.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const o=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+o:-o),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const r=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,r+(s==="speedUp"?.25:-.25))),t);break;default:this.a.remote[s]?.(t)}}ng(t){Sn(t.target)&&this.Zc(t).method&&t.preventDefault()}Zc(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(i=>{const n=e[i],r=rt(n)?n.join(" "):D(n)?n:n?.keys;return(rt(r)?r:r?.split(" "))?.some(o=>jn(o).replace(/Control/g,"Ctrl").split("+").every(h=>Os.has(h)?t[h.toLowerCase()+"Key"]:t.key===h.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}og(t,e){const s=t.shiftKey?10:5;return this.gc=Math.max(0,Math.min((this.gc??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}Ne(t,e){this.ot?.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}qa(t,e,s){this.$state.canSeek()&&(this.ot||(this.ot=this.el.querySelector("[data-media-time-slider]")),this.ot?this.Ne(t,s):this.a.remote.seeking(this.og(t,e),t))}}const Ln=["!","@","#","$","%","^","&","*","(",")"];function jn(a){return a.replace(/Shift\+(\d)/g,(t,e)=>Ln[e-1])}class On extends J{constructor(t){super(),this.mt=t}onAttach(t){const{$props:e,ariaKeys:s}=g(),i=t.getAttribute("aria-keyshortcuts");if(i){s[this.mt]=i,T(()=>{delete s[this.mt]});return}const n=e.keyShortcuts()[this.mt];if(n){const r=rt(n)?n.join(" "):D(n)?n:n?.keys;t.setAttribute("aria-keyshortcuts",rt(r)?r.join(" "):r)}}}const Le=Symbol(0),Nn=["autoplay","canFullscreen","canPictureInPicture","canLoad","canPlay","canSeek","ended","fullscreen","loop","live","liveEdge","mediaType","muted","paused","pictureInPicture","playing","playsinline","seeking","started","streamType","viewType","waiting"],qn={autoplay:!1,controls:!1,currentTime:0,crossorigin:null,fullscreenOrientation:"landscape",load:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:Cn};class Dn extends wt{constructor(t){super(),this.Ca=t}async onAttach(t){const e=this.$props.load();if(e==="eager")requestAnimationFrame(this.Ca);else if(e==="idle")Qa(this.Ca);else if(e==="visible"){const s=new IntersectionObserver(i=>{this.scope&&i[0].isIntersecting&&(s.disconnect(),this.Ca())});return s.observe(t),s.disconnect.bind(s)}}}class Fn{constructor(t,e){this.X=t,this.a=e,this.c=(s,...i)=>{this.X(new tt(s,{detail:i?.[0],trigger:i?.[1]}))}}async jc(t,e){const{$state:s,logger:i}=this.a;if(d(s.canPlay))return;const n={duration:t?.duration??d(s.duration),seekable:t?.seekable??d(s.seekable),buffered:t?.buffered??d(s.buffered),provider:d(this.a.$provider)};this.c("can-play",n,e),ot();const r=d(this.a.$provider),{muted:o,volume:h,playsinline:c}=this.a.$props;r&&(r.setVolume(d(h)),r.setMuted(d(o)),r.setPlaysinline?.(d(c))),s.canPlay()&&s.autoplay()&&!s.started()&&await this.oh(e)}async oh(t){const{player:e,$state:s}=this.a;s.autoplaying.set(!0);const i=new tt("autoplay-attempt",{trigger:t});try{await e.play(i)}catch{}}}var K={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},qs=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Ds=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Fs=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],B=typeof window<"u"&&typeof window.document<"u"?window.document:{},Q="fullscreenEnabled"in B&&Object.keys(K)||qs[0]in B&&qs||Ds[0]in B&&Ds||Fs[0]in B&&Fs||[],In={requestFullscreen:function(a){return a[Q[K.requestFullscreen]]()},requestFullscreenFunction:function(a){return a[Q[K.requestFullscreen]]},get exitFullscreen(){return B[Q[K.exitFullscreen]].bind(B)},get fullscreenPseudoClass(){return":"+Q[K.fullscreen]},addEventListener:function(a,t,e){return B.addEventListener(Q[K[a]],t,e)},removeEventListener:function(a,t,e){return B.removeEventListener(Q[K[a]],t,e)},get fullscreenEnabled(){return!!B[Q[K.fullscreenEnabled]]},set fullscreenEnabled(a){},get fullscreenElement(){return B[Q[K.fullscreenElement]]},set fullscreenElement(a){},get onfullscreenchange(){return B[("on"+Q[K.fullscreenchange]).toLowerCase()]},set onfullscreenchange(a){return B[("on"+Q[K.fullscreenchange]).toLowerCase()]=a},get onfullscreenerror(){return B[("on"+Q[K.fullscreenerror]).toLowerCase()]},set onfullscreenerror(a){return B[("on"+Q[K.fullscreenerror]).toLowerCase()]=a}},dt=In;const Zt=dt.fullscreenEnabled;class Rn extends J{constructor(){super(...arguments),this.ub=!1,this.Nc=!1}get active(){return this.Nc}get supported(){return Zt}onConnect(){u(dt,"fullscreenchange",this.Oc.bind(this)),u(dt,"fullscreenerror",this.lt.bind(this)),T(this.ya.bind(this))}async ya(){Zt&&await this.exit()}Oc(t){const e=je(this.el);e!==this.Nc&&(e||(this.ub=!1),this.Nc=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}lt(t){this.ub&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ub=!1)}async enter(){try{return this.ub=!0,!this.el||je(this.el)?void 0:(Is(),dt.requestFullscreen(this.el))}catch(t){throw this.ub=!1,t}}async exit(){if(!(!this.el||!je(this.el)))return Is(),dt.exitFullscreen()}}function Hn(){return Zt}function je(a){if(dt.fullscreenElement===a)return!0;try{return a.matches(dt.fullscreenPseudoClass)}catch{return!1}}function Is(){if(!Zt)throw Error("[vidstack] no fullscreen API")}const Rs=class Ia extends J{constructor(){super(...arguments),this.vb=x(this.qe()),this.Ra=x(!1)}get type(){return this.vb()}get locked(){return this.Ra()}get portrait(){return this.vb().startsWith("portrait")}get landscape(){return this.vb().startsWith("landscape")}get supported(){return Ia.supported}onConnect(){if(this.supported)u(screen.orientation,"change",this.re.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.re.bind(this),T(()=>t.onchange=null)}T(this.ya.bind(this))}async ya(){this.supported&&this.Ra()&&await this.unlock()}re(t){this.vb.set(this.qe()),this.dispatch("orientation-change",{detail:{orientation:d(this.vb),lock:this.$b},trigger:t})}async lock(t){d(this.Ra)||this.$b===t||(this.se(),await screen.orientation.lock(t),this.Ra.set(!0),this.$b=t)}async unlock(){d(this.Ra)&&(this.se(),this.$b=void 0,await screen.orientation.unlock(),this.Ra.set(!1))}se(){if(!this.supported)throw Error("[vidstack] no orientation API")}qe(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};Rs.supported=hn();let Hs=Rs;class Bn{constructor(){this.e=new Map}k(t,e){this.e.has(t)||this.e.set(t,new Set),this.e.get(t).add(e)}td(t,e){const s=this.e.get(t);if(s)for(const i of s)e(i);this.e.delete(t)}qc(t){this.e.delete(t)}ph(t){return this.e.get(t)?.size??0}H(){this.e.clear()}}class Bs{constructor(){this.Mb=!1,this.Ed=$s(),this.e=new Map}get ph(){return this.e.size}get Rj(){return this.Mb}async Sj(){this.Mb||await this.Ed.promise}k(t,e){if(this.Mb){e();return}this.e.delete(t),this.e.set(t,e)}td(t){this.e.get(t)?.(),this.e.delete(t)}Bb(){this.jf(),this.Mb=!0,this.e.size>0&&this.jf()}ra(){this.Mb=!1}H(){this.ra(),this.e.clear(),this.kf()}jf(){for(const t of this.e.keys())this.td(t);this.kf()}kf(){this.Ed.resolve(),this.Ed=$s()}}class Vn extends wt{constructor(t,e,s){super(),this.ga=t,this.f=e,this.a=s,this.vk=new Bs,this.vd=!1,this.uk=s.$provider,this.Ib=new yn,this.rc=new Rn,this.ta=new Hs}onAttach(){this.listen("fullscreen-change",this.Oc.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.qh.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);l(this.wk.bind(this)),l(this.rh.bind(this)),l(this.sh.bind(this)),l(this.th.bind(this))}onDestroy(){this.vk.H()}wk(){const t=this.uk(),e=this.$state.canPlay();return t&&e&&this.vk.Bb(),()=>{this.vk.ra()}}qh(t){t.stopPropagation(),this[t.type]&&(d(this.uk)?this[t.type](t):this.vk.k(t.type,()=>{d(this.uk)&&this[t.type](t)}))}async sc(t){const{canPlay:e,paused:s,ended:i,autoplaying:n,seekableStart:r}=this.$state;if(d(s)){t?.type==="media-play-request"&&this.f.e.k("play",t);try{const o=d(this.uk);return Oe(o,d(e)),d(i)&&o.setCurrentTime(r()+.1),await o.play()}catch(o){const h=this.createEvent("play-fail",{detail:Ee(o),trigger:t});throw h.autoplay=n(),this.ga.X(h),o}}}async ud(t){const{canPlay:e,paused:s}=this.$state;if(d(s))return;t?.type==="media-pause-request"&&this.f.e.k("pause",t);const i=d(this.uk);return Oe(i,d(e)),i.pause()}Ze(t){const{canPlay:e,live:s,liveEdge:i,canSeek:n,liveSyncPosition:r,seekableEnd:o,userBehindLiveEdge:h}=this.$state;if(h.set(!1),d(()=>!s()||i()||!n()))return;const c=d(this.uk);Oe(c,d(e)),c.setCurrentTime(r()??o()-2)}async $t(t="prefer-media",e){const s=this.$e(t);if(Vs(t,s),!s.active)return d(this.$state.pictureInPicture)&&(this.vd=!0,await this.wd(e)),e?.type==="media-enter-fullscreen-request"&&this.f.e.k("fullscreen",e),s.enter()}async af(t="prefer-media",e){const s=this.$e(t);if(Vs(t,s),!!s.active){e?.type==="media-exit-fullscreen-request"&&this.f.e.k("fullscreen",e);try{const i=await s.exit();return this.vd&&d(this.$state.canPictureInPicture)&&await this.xd(),i}finally{this.vd=!1}}}$e(t){const e=d(this.uk);return t==="prefer-media"&&this.rc.supported||t==="media"?this.rc:e?.fullscreen}async xd(t){if(this.bf(),!this.$state.pictureInPicture())return t?.type==="media-enter-pip-request"&&this.f.e.k("pip",t),await this.uk().pictureInPicture.enter()}async wd(t){if(this.bf(),!!this.$state.pictureInPicture())return t?.type==="media-exit-pip-request"&&this.f.e.k("pip",t),await this.uk().pictureInPicture.exit()}bf(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}rh(){this.Ib.defaultDelay=this.$props.controlsDelay()}sh(){const{canLoad:t,canFullscreen:e}=this.$state,s=this.rc.supported||this.uk()?.fullscreen?.supported||!1;t()&&d(e)===s||e.set(s)}th(){const{canLoad:t,canPictureInPicture:e}=this.$state,s=this.uk()?.pictureInPicture?.supported||!1;t()&&d(e)===s||e.set(s)}"media-audio-track-change-request"(t){if(this.a.audioTracks.readonly)return;const e=t.detail,s=this.a.audioTracks[e];s&&(this.f.e.k("audioTrack",t),s.selected=!0)}async"media-enter-fullscreen-request"(t){try{await this.$t(t.detail,t)}catch(e){this.lt(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.af(t.detail,t)}catch(e){this.lt(e,t)}}async Oc(t){const e=d(this.$props.fullscreenOrientation),s=t.detail;if(!(we(e)||!this.ta.supported))if(s){if(this.ta.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.ta.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}lt(t,e){this.ga.X(this.createEvent("fullscreen-error",{detail:Ee(t)}))}async"media-orientation-lock-request"(t){try{this.f.e.k("orientation",t),await this.ta.lock(t.detail)}catch{this.f.e.qc("orientation")}}async"media-orientation-unlock-request"(t){try{this.f.e.k("orientation",t),await this.ta.unlock()}catch{this.f.e.qc("orientation")}}async"media-enter-pip-request"(t){try{await this.xd(t)}catch(e){this.cf(e,t)}}async"media-exit-pip-request"(t){try{await this.wd(t)}catch(e){this.cf(e,t)}}cf(t,e){this.ga.X(this.createEvent("picture-in-picture-error",{detail:Ee(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:i}=this.$state;if(!(!e()||s()||!i())){this.f.e.k("seeked",t);try{this.Ze()}catch{}}}async"media-loop-request"(t){try{this.f.Ha=!0,this.f.gb=!0,await this.sc(t)}catch{this.f.Ha=!1,this.f.gb=!1}}async"media-pause-request"(t){if(!this.$state.paused())try{await this.ud(t)}catch{this.f.e.qc("pause")}}async"media-play-request"(t){if(this.$state.paused())try{await this.sc(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const i=this.uk();i?.setPlaybackRate&&(this.f.e.k("rate",t),i.setPlaybackRate(t.detail))}"media-quality-change-request"(t){if(this.a.qualities.readonly)return;this.f.e.k("quality",t);const e=t.detail;if(e<0)this.a.qualities.autoSelect(t);else{const s=this.a.qualities[e];s&&(s.selected=!0)}}"media-pause-controls-request"(t){this.f.e.k("controls",t),this.Ib.pause(t)}"media-resume-controls-request"(t){this.f.e.k("controls",t),this.Ib.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:i,canSeek:n,live:r,userBehindLiveEdge:o}=this.$state;i()&&(this.f.gb=!0),this.f.qa=!1,this.f.e.qc("seeking");const h=Math.min(Math.max(e()+.1,t.detail),s()-.1);!Number.isFinite(h)||!n()||(this.f.e.k("seeked",t),this.uk().setCurrentTime(h),r()&&t.isOriginTrusted&&Math.abs(s()-h)>=2&&o.set(!0))}"media-seeking-request"(t){this.f.e.k("seeking",t),this.$state.seeking.set(!0),this.f.qa=!0}"media-start-loading"(t){this.$state.canLoad()||(this.f.e.k("load",t),this.ga.X(this.createEvent("can-load")))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,i=this.a.textTracks[e];i&&(this.f.e.k("textTrack",t),i.setMode(s,t))}"media-mute-request"(t){this.$state.muted()||(this.f.e.k("volume",t),this.uk().setMuted(!0))}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;e()&&(this.f.e.k("volume",t),this.a.$provider().setMuted(!1),s()===0&&(this.f.e.k("volume",t),this.uk().setVolume(.25)))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,i=t.detail;s()!==i&&(this.f.e.k("volume",t),this.uk().setVolume(i),i>0&&e()&&(this.f.e.k("volume",t),this.uk().setMuted(!1)))}}function Oe(a,t){if(!(a&&t))throw Error("[vidstack] media not ready")}function Vs(a,t){if(!t?.supported)throw Error("[vidstack] no fullscreen support")}class Kn{constructor(){this.qa=!1,this.Ha=!1,this.gb=!1,this.e=new Bn}}var Ks=Un;function Un(a,t,e){var s=null,i=null,n=function(){s&&(clearTimeout(s),i=null,s=null)},r=function(){var h=i;n(),h&&h()},o=function(){if(!t)return a.apply(this,arguments);var h=this,c=arguments,p=e&&!s;if(n(),i=function(){a.apply(h,c)},s=setTimeout(function(){if(s=null,!p){var b=i;return i=null,b()}},t),p)return i()};return o.cancel=n,o.flush=r,o}var _t=Qn;function Qn(a,t,e){var s=null,i=null,n=e&&e.leading,r=e&&e.trailing;n==null&&(n=!0),r==null&&(r=!n),n==!0&&(r=!1);var o=function(){s&&(clearTimeout(s),s=null)},h=function(){var p=i;o(),p&&p()},c=function(){var p=n&&!s,b=this,w=arguments;if(i=function(){return a.apply(b,w)},s||(s=setTimeout(function(){if(s=null,r)return i()},t)),p)return p=!1,i()};return c.cancel=o,c.flush=h,c}const zn=new Set(["autoplay","autoplay-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class Wn extends wt{constructor(t,e){super(),this.f=t,this.a=e,this.p=new Map,this.tc=!1,this.Jb=!1,this.seeking=_t(s=>{const{seeking:i,currentTime:n,paused:r}=this.$state;i.set(!0),n.set(s.detail),this.F("seeking",s),r()&&(this.hb=s,this.zd())},150,{leading:!0}),this.zd=Ks(()=>{if(!this.hb)return;this.tc=!0;const{waiting:s,playing:i}=this.$state;s.set(!0),i.set(!1);const n=this.createEvent("waiting",{trigger:this.hb});this.p.set("waiting",n),this.dispatch(n),this.hb=void 0,this.tc=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){this.uh(),this.vh(),this.wh(),this.xh(),T(this.yh.bind(this))}X(t){if(!this.scope)return;const e=t.type;this[t.type]?.(t),zn.has(e)&&this.p.set(e,t),this.dispatch(t)}xh(){this.Jb&&(this.a.$provider()?.paused&&requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new tt("dom-connect"))}),this.Jb=!1)}yh(){this.Jb||(this.Jb=!this.a.$state.paused(),this.a.$provider()?.pause())}ib(){this.df(),this.f.gb=!1,this.f.Ha=!1,this.tc=!1,this.hb=void 0,this.p.clear()}F(t,e){this.f.e.td(t,s=>{e.request=s,e.triggers.add(s)})}uh(){this.yd(),this.ef();const t=this.a.textTracks;u(t,"add",this.yd.bind(this)),u(t,"remove",this.yd.bind(this)),u(t,"mode-change",this.ef.bind(this))}vh(){const t=this.a.qualities;u(t,"add",this.pc.bind(this)),u(t,"remove",this.pc.bind(this)),u(t,"change",this.fb.bind(this)),u(t,"auto-change",this.zh.bind(this)),u(t,"readonly-change",this.Ah.bind(this))}wh(){const t=this.a.audioTracks;u(t,"add",this.ff.bind(this)),u(t,"remove",this.ff.bind(this)),u(t,"change",this.Bh.bind(this))}yd(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}ef(t){t&&this.F("textTrack",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}ff(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Bh(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),this.F("audioTrack",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}pc(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}fb(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),this.F("quality",t),this.dispatch("quality-change",{detail:e(),trigger:t})}zh(){this.$state.autoQuality.set(this.a.qualities.auto)}Ah(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}"provider-change"(t){const e=this.a.$provider(),s=t.detail;e?.type!==s?.type&&(e?.destroy?.(),e?.scope?.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.gf(t))}"provider-loader-change"(t){}autoplay(t){this.$state.autoplayError.set(null)}"autoplay-fail"(t){this.$state.autoplayError.set(t.detail),this.ib()}"can-load"(t){this.$state.canLoad.set(!0),this.p.set("can-load",t),this.F("load",t),this.a.textTracks[R.P]()}"media-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const i=this.$state.providedViewType(),n=i==="unknown"?t.detail:i;s!==n&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:n,trigger:t}))})},0)}"stream-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:i}=this.$state;i.set(t.detail),t.detail=s()}"rate-change"(t){this.$state.playbackRate.set(t.detail),this.F("rate",t)}"sources-change"(t){this.$state.sources.set(t.detail)}"source-change"(t){const e=this.p.get("sources-change");e&&t.triggers.add(e),this.gf(t),this.p.set(t.type,t),this.$state.source.set(t.detail),this.el?.setAttribute("aria-busy","true")}gf(t){this.a.audioTracks[V.H](t),this.a.qualities[V.H](t),this.ib(),en(this.a.$state)}abort(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.p.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.p.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.p.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"can-play"(t){const e=this.p.get("loaded-metadata");e&&t.triggers.add(e),this.hf(t.detail),this.el?.setAttribute("aria-busy","false")}"can-play-through"(t){this.hf(t.detail);const e=this.p.get("can-play");e&&t.triggers.add(e)}hf(t){const{seekable:e,seekableEnd:s,buffered:i,duration:n,canPlay:r}=this.$state;r.set(!0),i.set(t.buffered),e.set(t.seekable),n.set(s())}"duration-change"(t){const{live:e,duration:s}=this.$state,i=t.detail;e()||s.set(Number.isNaN(i)?0:i)}progress(t){const{buffered:e,seekable:s,live:i,duration:n,seekableEnd:r}=this.$state,o=t.detail;e.set(o.buffered),s.set(o.seekable),i()&&(n.set(r),this.dispatch("duration-change",{detail:r(),trigger:t}))}play(t){const{paused:e,autoplayError:s,ended:i,autoplaying:n,playsinline:r,pointer:o,muted:h,viewType:c}=this.$state;if(t.autoplay=n(),this.f.Ha||!e()){t.stopImmediatePropagation();return}const p=this.p.get("waiting");p&&t.triggers.add(p),this.F("play",t),this.p.set("play",t),e.set(!1),s.set(null),t.autoplay&&(this.X(this.createEvent("autoplay",{detail:{muted:h()},trigger:t})),n.set(!1)),(i()||this.f.gb)&&(this.f.gb=!1,i.set(!1),this.X(this.createEvent("replay",{trigger:t}))),!r()&&c()==="video"&&o()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t)}"play-fail"(t){const{muted:e,autoplaying:s}=this.$state,i=this.p.get("play");i&&t.triggers.add(i),this.F("play",t);const{paused:n,playing:r}=this.$state;n.set(!0),r.set(!1),this.ib(),this.p.set("play-fail",t),t.autoplay&&(this.X(this.createEvent("autoplay-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.p.get("play"),s=this.p.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.ib(),0);const{paused:i,playing:n,live:r,liveSyncPosition:o,seekableEnd:h,started:c,currentTime:p,seeking:b,ended:w}=this.$state;if(i.set(!1),n.set(!0),b.set(!1),w.set(!1),this.f.Ha){t.stopImmediatePropagation(),this.f.Ha=!1;return}if(r()&&!c()&&p()===0){const C=o()??h()-2;Number.isFinite(C)&&this.a.$provider().setCurrentTime(C)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.X(this.createEvent("started",{trigger:t})))}pause(t){if(this.el?.isConnected||(this.Jb=!0),this.f.Ha){t.stopImmediatePropagation();return}const e=this.p.get("seeked");e&&t.triggers.add(e),this.F("pause",t);const{paused:s,playing:i}=this.$state;s.set(!0),i.set(!1),this.ib()}"time-update"(t){const{currentTime:e,played:s,waiting:i}=this.$state,n=t.detail;e.set(n.currentTime),s.set(n.played),i.set(!1);for(const r of this.a.textTracks)r[R.Ta](n.currentTime,t)}"volume-change"(t){const{volume:e,muted:s}=this.$state,i=t.detail;e.set(i.volume),s.set(i.muted||i.volume===0),this.F("volume",t)}seeked(t){const{seeking:e,currentTime:s,paused:i,duration:n,ended:r}=this.$state;if(this.f.qa)e.set(!0),t.stopImmediatePropagation();else if(e()){const o=this.p.get("waiting");o&&t.triggers.add(o);const h=this.p.get("seeking");h&&!t.triggers.has(h)&&t.triggers.add(h),i()&&this.df(),e.set(!1),t.detail!==n()&&r.set(!1),s.set(t.detail),this.F("seeked",t);const c=t?.originEvent;c?.isTrusted&&!/seek/.test(c.type)&&this.started(t)}}waiting(t){this.tc||this.f.qa||(t.stopImmediatePropagation(),this.hb=t,this.zd())}end(t){const{loop:e}=this.$state;if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},0);return}this.Db(t)}Db(t){const{paused:e,seeking:s,ended:i,duration:n}=this.$state;e()||this.dispatch("pause",{trigger:t}),s()&&this.dispatch("seeked",{detail:n(),trigger:t}),i.set(!0),this.ib(),this.dispatch("ended",{trigger:t})}df(){this.zd.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){this.$state.fullscreen.set(t.detail),this.F("fullscreen",t)}"fullscreen-error"(t){this.F("fullscreen",t)}"orientation-change"(t){this.F("orientation",t)}"picture-in-picture-change"(t){this.$state.pictureInPicture.set(t.detail),this.F("pip",t)}"picture-in-picture-error"(t){this.F("pip",t)}"title-change"(t){t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail)}"poster-change"(t){t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail)}}class Xn extends wt{onSetup(){this.Ch(),l(this.Eh.bind(this)),l(this.uc.bind(this)),l(this.Fh.bind(this)),l(this.ld.bind(this)),l(this.Gh.bind(this)),l(this.Vc.bind(this)),l(this.Hh.bind(this)),l(this.Ad.bind(this)),l(this.Ih.bind(this)),l(this.Jh.bind(this)),l(this.Kh.bind(this))}Ch(){const t={poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"};for(const e of Object.keys(this.$props))this.$state[t[e]??e]?.set(this.$props[e]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}Eh(){const{viewType:t,streamType:e,title:s,poster:i}=this.$props;this.$state.providedPoster.set(i()),this.$state.providedStreamType.set(e()),this.$state.providedViewType.set(t()),this.$state.providedTitle.set(s())}Dh(){}uc(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}Fh(){const t=this.$props.autoplay();this.$state.autoplay.set(t),this.dispatch("autoplay-change",{detail:t})}Gh(){const t=this.$props.loop();this.$state.loop.set(t),this.dispatch("loop-change",{detail:t})}Vc(){const t=this.$props.controls();this.$state.controls.set(t)}ld(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Hh(){const t=this.$props.crossorigin();this.$state.crossorigin.set(t===!0?"":t)}Ad(){const t=this.$props.playsinline();this.$state.playsinline.set(t),this.dispatch("playsinline-change",{detail:t})}Jh(){this.dispatch("live-change",{detail:this.$state.live()})}Ih(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}Kh(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}let Ne=x(!1);u(document,"pointerdown",()=>{Ne.set(!1)}),u(document,"keydown",a=>{a.metaKey||a.altKey||a.ctrlKey||Ne.set(!0)});class Y extends J{constructor(){super(...arguments),this.Kb=x(!1)}onConnect(t){l(()=>{if(!Ne()){this.Kb.set(!1),te(t,!1),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointerleave",this.Dd.bind(this));return}const e=document.activeElement===t;this.Kb.set(e),te(t,e),this.listen("focus",this.Lb.bind(this)),this.listen("blur",this.Nh.bind(this))})}focused(){return this.Kb()}Lb(){this.Kb.set(!0),te(this.el,!0)}Nh(){this.Kb.set(!1),te(this.el,!1)}Cd(){Us(this.el,!0)}Dd(){Us(this.el,!1)}}function te(a,t){m(a,"data-focus",t),m(a,"data-hocus",t)}function Us(a,t){m(a,"data-hocus",t),m(a,"data-hover",t)}var Gn=Object.defineProperty,Yn=Object.getOwnPropertyDescriptor,A=(a,t,e,s)=>{for(var i=s>1?void 0:s?Yn(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Gn(t,e,i),i};const P=class $e extends y{constructor(){super(),this.canPlayQueue=new Bs,this.wc=!1,new Xn;const t={player:this,scope:vs(),qualities:new Tn,audioTracks:new xn,$provider:x(null),$providerSetup:x(!1),$props:this.$props,$state:this.$state};t.remote=new fn(void 0),t.remote.setPlayer(this),t.$iosControls=F(this.Oh.bind(this)),t.textTracks=new wn,t.textTracks[R.Sa]=this.$state.crossorigin,t.textRenderers=new kn(t),t.ariaKeys={},this.a=t,G(an,t),this.orientation=new Hs,new Y,new Mn(t);const e=new Kn;this.ga=new Wn(e,t),this.Y=new Vn(this.ga,e,t),t.delegate=new Fn(this.ga.X.bind(this.ga),t),new Dn(this.startLoading.bind(this))}get i(){return this.a.$provider()}onSetup(){this.Ph(),l(this.Qh.bind(this)),l(this.Rh.bind(this)),l(this.Tc.bind(this)),l(this.Fd.bind(this)),l(this.jb.bind(this)),l(this.Ad.bind(this)),l(this.Sh.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),E(t,"tabindex","0"),E(t,"role","region"),l(this.uc.bind(this)),l(this.lf.bind(this)),u(t,"find-media-player",this.Th.bind(this))}onConnect(t){Ps&&m(t,"data-iphone",""),ln().then(this.$state.canSetVolume.set);const e=window.matchMedia("(pointer: coarse)");this.mf(e),e.onchange=this.mf.bind(this);const s=new ResizeObserver(at(this.O.bind(this)));s.observe(t),l(this.O.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),T(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.H()}uc(){if(this.wc){this.wc=!1;return}const{title:t,live:e,viewType:s}=this.$state,i=e(),n=za(s()),r=n!=="Unknown"?`${i?"Live ":""}${n}`:i?"Live":"Media",o=t();m(this.el,"aria-label",o?`${r} - ${o}`:r+" Player"),this.el&&customElements.get(this.el.localName)&&(this.wc=!0),this.el?.removeAttribute("title")}lf(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),m(this.el,"data-orientation",t),this.O()}Qh(){this.$state.canPlay()&&this.i?this.canPlayQueue.Bb():this.canPlayQueue.ra()}Ph(){if($e[Le]){this.setAttributes($e[Le]);return}const t={"data-captions":function(){const s=this.$state.textTrack();return!!s&&I(s)},"data-ios-controls":function(){return this.a.$iosControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canPlay:s,waiting:i}=this.$state;return!s()||i()},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoplayError:s}=this.$state;return!!s()}},e={canPictureInPicture:"can-pip",pictureInPicture:"pip"};for(const s of Nn){const i="data-"+(e[s]??Wa(s));t[i]=function(){return this.$state[s]()}}delete t.title,$e[Le]=t,this.setAttributes(t)}Th(t){t.detail(this)}O(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),U(this.el,"--player-width",t+"px"),U(this.el,"--player-height",e+"px")}mf(t){const e=t.matches?"coarse":"fine";m(this.el,"data-pointer",e),this.$state.pointer.set(e),this.O()}Oh(){const{playsinline:t,fullscreen:e}=this.$state;return Ps&&!Hn()&&this.$state.mediaType()==="video"&&(!t()||e())}get provider(){return this.i}get controls(){return this.Y.Ib}get title(){return d(this.$state.providedTitle)}set title(t){this.wc||this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get paused(){return d(this.$state.paused)}set paused(t){this.nf(t)}Tc(){this.nf(this.$props.paused())}nf(t){t?this.canPlayQueue.k("paused",()=>this.Y.ud()):this.canPlayQueue.k("paused",()=>this.Y.sc())}get muted(){return d(this.$state.muted)}set muted(t){this.$props.muted.set(t)}Rh(){this.Uh(this.$props.muted())}Uh(t){this.canPlayQueue.k("muted",()=>{this.i&&this.i.setMuted(t)})}get currentTime(){return d(this.$state.currentTime)}set currentTime(t){this.of(t)}jb(){this.of(this.$props.currentTime())}of(t){this.canPlayQueue.k("currentTime",()=>{t!==d(this.$state.currentTime)&&d(()=>{if(!this.i)return;const e=Math.min(Math.max(this.$state.seekableStart()+.1,t),this.$state.seekableEnd()-.1);Number.isFinite(e)&&this.i.setCurrentTime(e)})})}get volume(){return d(this.$state.volume)}set volume(t){this.$props.volume.set(t)}Fd(){this.Vh(this.$props.volume())}Vh(t){const e=Pe(0,t,1);this.canPlayQueue.k("volume",()=>{this.i&&this.i.setVolume(e)})}get playbackRate(){return d(this.$state.playbackRate)}set playbackRate(t){this.pf(t)}Sh(){this.pf(this.$props.playbackRate())}pf(t){this.canPlayQueue.k("rate",()=>{this.i&&this.i.setPlaybackRate?.(t)})}Ad(){this.Wh(this.$props.playsinline())}Wh(t){this.canPlayQueue.k("playsinline",()=>{this.i&&this.i.setPlaysinline?.(t)})}async play(t){return this.Y.sc(t)}async pause(t){return this.Y.ud(t)}async enterFullscreen(t,e){return this.Y.$t(t,e)}async exitFullscreen(t,e){return this.Y.af(t,e)}enterPictureInPicture(t){return this.Y.xd(t)}exitPictureInPicture(t){return this.Y.wd(t)}seekToLiveEdge(t){this.Y.Ze(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}matchQuery(t){return vt(()=>Yt.create(t),this.scope)}destroy(){this.a.remote.setPlayer(null),this.dispatch("destroy")}};P.props=qn,P.state=sn,A([$],P.prototype,"canPlayQueue",2),A([$],P.prototype,"provider",1),A([$],P.prototype,"controls",1),A([$],P.prototype,"orientation",2),A([$],P.prototype,"title",1),A([$],P.prototype,"qualities",1),A([$],P.prototype,"audioTracks",1),A([$],P.prototype,"textTracks",1),A([$],P.prototype,"textRenderers",1),A([$],P.prototype,"paused",1),A([$],P.prototype,"muted",1),A([$],P.prototype,"currentTime",1),A([$],P.prototype,"volume",1),A([$],P.prototype,"playbackRate",1),A([j],P.prototype,"play",1),A([j],P.prototype,"pause",1),A([j],P.prototype,"enterFullscreen",1),A([j],P.prototype,"exitFullscreen",1),A([j],P.prototype,"enterPictureInPicture",1),A([j],P.prototype,"exitPictureInPicture",1),A([j],P.prototype,"seekToLiveEdge",1),A([j],P.prototype,"startLoading",1),A([j],P.prototype,"matchQuery",1);let Jn=P;class Zn{canPlay({src:t,type:e}){return D(t)?un.test(t)||pn.has(e)||t.startsWith("blob:")&&e==="audio/object":e==="audio/object"}mediaType(){return"audio"}async load(){return new(await import("./providers/vidstack-audio.js")).AudioProvider(this.target)}}class Qs{canPlay(t){return D(t.src)?mn.test(t.src)||gn.has(t.type)||t.src.startsWith("blob:")&&t.type==="video/object"||Se(t)&&cn():t.type==="video/object"}mediaType(){return"video"}async load(t){return new(await import("./providers/vidstack-video.js")).VideoProvider(this.target,t)}}class _n{canPlay(t){return D(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await import("./providers/vidstack-youtube.js")).YouTubeProvider(this.target)}}const zs=class Ra extends Qs{canPlay(t){return Ra.supported&&Se(t)}async load(t){return new(await import("./providers/vidstack-hls.js")).HLSProvider(this.target,t)}};zs.supported=Ss();let tr=zs;class er{canPlay(t){return D(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await import("./providers/vidstack-vimeo.js")).VimeoProvider(this.target)}}function Ws(a,t){return fetch(a,t).then(e=>e.text()).then(e=>{const s=sr(e);if(s)return Ws(/^https?:/.test(s)?s:new URL(s,a).href,t);const i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return i==="live"&&ir(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function sr(a){const t=a.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function ir(a){const t=a.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const Xs=new Map;class ar{constructor(t,e,s,i=[]){this.xc=t,this.a=e,this.ha=s,this.Gd=!1;const n=new tr,r=new Qs,o=new Zn,h=new _n,c=new er,p=[h,c];this.Hd=F(()=>e.$props.preferNativeHLS()?[r,o,n,...p,...i]:[n,r,o,...p,...i]);const{$state:b}=e;b.sources.set(Gs(e.$props.src()));for(const w of b.sources()){const C=this.Hd().find(it=>it.canPlay(w));if(!C)continue;const st=C.mediaType(w);this.a.$state.source.set(w),this.a.$state.mediaType.set(st),this.a.$state.inferredViewType.set(st),this.ha.set(C),this.Gd=!0}}get c(){return this.a.delegate.c}connect(){const t=this.ha();this.Gd&&(this.qf(this.a.$state.source(),t),this.rf(t),this.Gd=!1),l(this.Xh.bind(this)),l(this.Yh.bind(this)),l(this.Zh.bind(this)),l(this.St.bind(this))}Xh(){this.c("sources-change",[...Gs(this.a.$props.src()),...this.xc()])}Yh(){const{$state:t}=this.a,e=t.sources(),s=d(t.source),i=this.sf(s,e);if(e[0]?.src&&!i.src&&!i.type){const{crossorigin:n}=t,r=Te(n()),o=new AbortController;return Promise.all(e.map(h=>D(h.src)&&h.type==="?"?fetch(h.src,{method:"HEAD",credentials:r,signal:o.signal}).then(c=>(h.type=c.headers.get("content-type")||"??",Xs.set(h.src,h.type),h)).catch(()=>h):h)).then(h=>{o.signal.aborted||(this.sf(d(t.source),h),ot())}),()=>o.abort()}ot()}sf(t,e){let s={src:"",type:""},i=null;for(const n of e){const r=d(this.Hd).find(o=>o.canPlay(n));r&&(s=n,i=r)}return Ys(t,s)||this.qf(s,i),i!==d(this.ha)&&this.rf(i),s}qf(t,e){this.c("source-change",t),this.c("media-type-change",e?.mediaType(t)||"unknown")}rf(t){this.a.$providerSetup.set(!1),this.c("provider-change",null),t&&d(()=>t.preconnect?.(this.a)),this.ha.set(t),this.c("provider-loader-change",t)}Zh(){const t=this.a.$provider();if(!(!t||d(this.a.$providerSetup))){if(this.a.$state.canLoad()){vt(()=>t.setup(this.a),t.scope),this.a.$providerSetup.set(!0);return}d(()=>t.preconnect?.(this.a))}}St(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=d(this.a.$state.crossorigin);if(!Ys(t?.currentSrc,e)){if(this.a.$state.canLoad()){const i=new AbortController;return Se(e)?Ss()||Ws(e.src,{credentials:Te(s),signal:i.signal}).then(n=>{this.c("stream-type-change",n)}).catch(Xa):this.c("stream-type-change","on-demand"),d(()=>t?.loadSource(e,d(this.a.$state.preload))),()=>i.abort()}try{D(e.src)&&Es(new URL(e.src).origin,"preconnect")}catch{}}}}function Gs(a){return(rt(a)?a:[!D(a)&&"src"in a?a:{src:a}]).map(({src:t,type:e,...s})=>({src:t,type:e??(D(t)?Xs.get(t):null)??(!D(t)||t.startsWith("blob:")?"video/object":t.includes("youtube")?"video/youtube":t.includes("vimeo")?"video/vimeo":"?"),...s}))}function Ys(a,t){return a?.src===t?.src&&a?.type===t?.type}class nr{constructor(t,e){this.yc=t,this.a=e,this.tf=[],l(this.$h.bind(this))}$h(){const t=this.yc();for(const e of this.tf)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||xe.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.tf=t}}var rr=Object.defineProperty,or=Object.getOwnPropertyDescriptor,hr=(a,t,e,s)=>{for(var i=s>1?void 0:s?or(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&rr(t,e,i),i};class ee extends y{constructor(){super(...arguments),this.xc=x([]),this.yc=x([]),this.ha=null,this.Id=-1}onSetup(){this.a=g(),this.uf=new ar(this.xc,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.uf.connect(),new nr(this.yc,this.a);const e=new ResizeObserver(at(this.O.bind(this)));e.observe(t);const s=new MutationObserver(this.vf.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.O(),this.vf(),T(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Id),this.Id=requestAnimationFrame(()=>this.ai(t)),T(()=>{window.cancelAnimationFrame(this.Id)})}ai(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.ha===e&&e?.target===t&&d(s)||(this.wf(),this.ha=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(i=>{this.scope&&d(this.$state.loader)===e&&this.a.delegate.c("provider-change",i)}))}onDestroy(){this.ha=null,this.wf()}wf(){this.a.delegate.c("provider-change",null)}O(){if(!this.el)return;const t=this.a.player,e=this.el.offsetWidth,s=this.el.offsetHeight;t&&(t.$state.mediaWidth.set(e),t.$state.mediaHeight.set(s),t.el&&(U(t.el,"--media-width",e+"px"),U(t.el,"--media-height",s+"px")))}vf(){const t=[],e=[],s=this.el.children;for(const i of s)i instanceof HTMLSourceElement?t.push({src:i.src,type:i.type}):i instanceof HTMLTrackElement&&e.push({id:i.id,src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")});this.xc.set(t),this.yc.set(e),ot()}}ee.props={loaders:[]},ee.state=new yt({loader:null}),hr([j],ee.prototype,"load",1);class Js extends y{onSetup(){this.a=g(),l(this.bi.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;U(t,"pointer-events","none"),E(t,"role","group"),this.setAttributes({"data-visible":this.xf.bind(this),"data-fullscreen":s,"data-pip":e}),l(()=>{this.dispatch("change",{detail:this.xf()})}),l(this.ci.bind(this)),l(()=>{const i=s();for(const n of["top","right","bottom","left"])U(t,`padding-${n}`,i&&`env(safe-area-inset-${n})`)})}ci(){if(!this.el)return;const{$iosControls:t}=this.a,{controls:e}=this.a.$state,s=e()||t();m(this.el,"aria-hidden",s?"true":null),U(this.el,"display",s?"none":null)}bi(){const{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}xf(){const{controlsVisible:t}=this.a.$state;return t()}}Js.props={hideDelay:2e3,hideOnMouseLeave:!1};class lr extends y{onAttach(t){U(t,"pointer-events","auto")}}class Zs extends J{constructor(t){super(),this.j=t,this.Ac=-1,this.Bc=-1,this.Ia=null,l(this.di.bind(this))}onDestroy(){this.Ia?.(),this.Ia=null}di(){const t=this.j.C();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.j.zc(t,e,s)}show(t){window.cancelAnimationFrame(this.Bc),this.Bc=-1,this.Ia?.(),this.Ia=null,this.Ac=window.setTimeout(()=>{this.Ac=-1;const e=this.j.u();e&&e.style.removeProperty("display"),d(()=>this.j.B(!0,t))},this.j.yf?.()??0)}hide(t){window.clearTimeout(this.Ac),this.Ac=-1,d(()=>this.j.B(!1,t)),this.Bc=requestAnimationFrame(()=>{this.Bc=-1;const e=this.j.u();if(e){const s=vn(e),i=()=>{e.style.display="none",this.Ia=null};if(s){this.Ia?.();const n=u(e,"animationend",i,{once:!0});this.Ia=n}else i()}})}}const xt=ht();let cr=0;class _s extends y{constructor(){super(),this.ca=`media-tooltip-${++cr}`,this.C=x(null),this.u=x(null),new Y;const{showDelay:t}=this.$props;new Zs({C:this.C,u:this.u,yf:t,zc(e,s,i){u(e,"touchstart",n=>n.preventDefault(),{passive:!1}),u(e,"focus",s),u(e,"blur",i),u(e,"mouseenter",s),u(e,"mouseleave",i)},B:this.ei.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){G(xt,{C:this.C,u:this.u,Jd:this.Jd.bind(this),Kd:this.Kd.bind(this),Ld:this.Ld.bind(this),Md:this.Md.bind(this)})}Jd(t){this.C.set(t);let e=t.getAttribute("data-media-tooltip");e&&this.el?.setAttribute(`data-media-${e}-tooltip`,""),m(t,"data-describedby",this.ca)}Kd(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.C.set(null)}Ld(t){t.setAttribute("id",this.ca),t.style.display="none",E(t,"role","tooltip"),this.u.set(t)}Md(t){t.removeAttribute("id"),t.removeAttribute("role"),this.u.set(null)}ei(t){const e=this.C(),s=this.u();e&&m(e,"aria-describedby",t?this.ca:null);for(const i of[this.el,e,s])i&&m(i,"data-visible",t)}}_s.props={showDelay:500};class dr extends y{constructor(){super(),new Y}onConnect(t){T(ct(()=>{if(!this.connectScope)return;this.Ja();const e=L(xt);T(()=>{const s=this.Cc();s&&e.Kd(s)})}))}Ja(){const t=this.Cc(),e=L(xt);t&&e.Jd(t)}Cc(){const t=this.el.firstElementChild;return t?.localName==="button"||t?.getAttribute("role")==="button"?t:this.el}}class ti extends y{constructor(){super(),new Y;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.Ja(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.Ja(t);const e=L(xt);T(()=>e.Md(t)),T(ct(()=>{this.connectScope&&l(this.Nd.bind(this))}))}Ja(t){L(xt).Ld(t)}Nd(){const{placement:t,offset:e,alignOffset:s}=this.$props;return Ls(this.el,this.fi(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}fi(){return L(xt).C()}}ti.props={placement:"top center",offset:0,alignOffset:0};class z extends J{constructor(t){super(),this.j=t,new Y,t.kb&&new On(t.kb)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.n,"aria-pressed":this.gi.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button")}onConnect(t){lt(t,this.hi.bind(this));for(const e of["click","touchstart"])this.listen(e,this.ii.bind(this))}gi(){return Xt(this.j.n())}ji(t){Ga(this.j.n)&&this.j.n.set(e=>!e)}hi(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.j.v??this.ji).call(this,t)}ii(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}}z.props={disabled:!1};var ur=Object.defineProperty,pr=Object.getOwnPropertyDescriptor,mr=(a,t,e,s)=>{for(var i=s>1?void 0:s?pr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&ur(t,e,i),i};class qe extends y{constructor(){super(),this.zf=x(!1),new z({n:this.zf})}get pressed(){return this.zf()}}qe.props={disabled:!1,defaultPressed:!1},mr([$],qe.prototype,"pressed",1);class ei extends y{constructor(){super(),new z({n:this.n.bind(this),kb:"togglePaused",v:this.v.bind(this)})}onSetup(){this.a=g();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),kt(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.pause(t):e.play(t)}n(){const{paused:t}=this.a.$state;return!t()}Z(){const{paused:t}=this.a.$state;return t()?"Play":"Pause"}}ei.props=z.props;function gr(a){return a?"true":"false"}function W(a){return()=>gr(a())}class si extends y{constructor(){super(),new z({n:this.n.bind(this),kb:"toggleCaptions",v:this.v.bind(this)})}onSetup(){this.a=g(),this.setAttributes({"data-active":this.n.bind(this),"data-supported":()=>!this.lb(),"aria-hidden":W(this.lb.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),kt(t,this.Z.bind(this))}v(t){this.a.remote.toggleCaptions(t)}n(){const{textTrack:t}=this.a.$state,e=t();return!!e&&I(e)}lb(){const{textTracks:t}=this.a.$state;return t().filter(I).length==0}Z(){const{textTrack:t}=this.a.$state;return t()?"Closed-Captions Off":"Closed-Captions On"}}si.props=z.props;class ii extends y{constructor(){super(),new z({n:this.n.bind(this),kb:"toggleFullscreen",v:this.v.bind(this)})}onSetup(){this.a=g();const{fullscreen:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":W(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),kt(t,this.Z.bind(this))}v(t){const e=this.a.remote,s=this.$props.target();this.n()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}n(){const{fullscreen:t}=this.a.$state;return t()}Nb(){const{canFullscreen:t}=this.a.$state;return t()}Z(){const{fullscreen:t}=this.a.$state;return t()?"Exit Fullscreen":"Enter Fullscreen"}}ii.props={...z.props,target:"prefer-media"};class ai extends y{constructor(){super(),new z({n:this.n.bind(this),kb:"toggleMuted",v:this.v.bind(this)})}onSetup(){this.a=g(),this.setAttributes({"data-muted":this.n.bind(this),"data-state":this.ki.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),kt(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.unmute(t):e.mute(t)}n(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}Z(){return this.n()?"Unmute":"Mute"}ki(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}}ai.props=z.props;class ni extends y{constructor(){super(),new z({n:this.n.bind(this),kb:"togglePictureInPicture",v:this.v.bind(this)})}onSetup(){this.a=g();const{pictureInPicture:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":W(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),kt(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}n(){const{pictureInPicture:t}=this.a.$state;return t()}Nb(){const{canPictureInPicture:t}=this.a.$state;return t()}Z(){const{pictureInPicture:t}=this.a.$state;return t()?"Exit Picture In Picture":"Enter Picture In Picture"}}ni.props=z.props;class ri extends y{constructor(){super(),new Y}onSetup(){this.a=g();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.Nb.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":W(()=>!s())})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),kt(t,this.Z.bind(this))}onConnect(t){lt(t,this.v.bind(this))}Nb(){const{canSeek:t}=this.a.$state;return t()}Z(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}v(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:i}=this.a.$state,n=i()+e();this.a.remote.seek(n,t)}}ri.props={disabled:!1,seconds:30};class oi extends y{constructor(){super(),new Y}onSetup(){this.a=g();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,i=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":i,"aria-disabled":W(()=>t()||s()),"aria-hidden":W(i)})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){lt(t,this.v.bind(this))}v(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}}oi.props={disabled:!1};const De=new yt({min:0,max:100,value:0,pointerValue:0,focused:!1,dragging:!1,pointing:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return hi(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return hi(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function hi(a,t,e){const s=t-a,i=e-a;return s>0?i/s:0}function br(a,t,e,s){return Pe(a,H(e,bn(s)),t)}function fr(a,t,e,s){const i=Pe(0,e,1),n=t-a,r=n*i,o=r/s,h=s*o;return a+h}const li={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class vr extends J{constructor(t,e){super(),this.j=t,this.a=e,this.i=null,this.ua=null,this.mb=null,this.ti=_t(s=>{this.va(this.Dc(s),s)},20,{leading:!0})}onConnect(){if(l(this.li.bind(this)),l(this.mi.bind(this)),this.j.ni){const t=this.a.player.el?.querySelector("media-provider,[data-media-provider]");t&&(this.i=t,u(t,"touchstart",this.oi.bind(this),{passive:!0}),u(t,"touchmove",this.pi.bind(this),{passive:!1}))}}oi(t){this.ua=t.touches[0]}pi(t){if(Mt(this.ua)||Ce(t))return;const e=t.touches[0],s=e.clientX-this.ua.clientX,i=e.clientY-this.ua.clientY,n=this.$state.dragging();!n&&Math.abs(i)>20||n||Math.abs(s)>20&&(this.ua=e,this.mb=this.$state.value(),this.Od(this.mb,t))}li(){this.j.K()||(this.listen("focus",this.Lb.bind(this)),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointermove",this.qi.bind(this)),this.listen("pointerleave",this.Dd.bind(this)),this.listen("pointerdown",this.ri.bind(this)),this.listen("keydown",this.Ab.bind(this)),this.listen("keyup",this.zb.bind(this)))}mi(){this.j.K()||!this.$state.dragging()||(u(document,"pointerup",this.si.bind(this)),u(document,"pointermove",this.ti.bind(this)),dn&&u(document,"touchmove",this.ui.bind(this),{passive:!1}))}Lb(){this.va(this.$state.value())}Pd(t,e){const{value:s,min:i,max:n,dragging:r}=this.$state,o=Math.max(i(),Math.min(t,n()));s.set(o);const h=this.createEvent("value-change",{detail:o,trigger:e});if(this.dispatch(h),this.j.o?.(h),r()){const c=this.createEvent("drag-value-change",{detail:o,trigger:e});this.dispatch(c),this.j.nb?.(c)}}va(t,e){const{pointerValue:s,dragging:i}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),i()&&this.Pd(t,e)}Dc(t){let e,s=this.el.getBoundingClientRect(),{min:i,max:n}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:r,height:o}=s;e=(r-t.clientY)/o}else if(this.ua&&ks(this.mb)){const{width:r}=this.i.getBoundingClientRect(),o=(t.clientX-this.ua.clientX)/r,h=n()-i(),c=h*Math.abs(o);e=(o<0?this.mb-c:this.mb+c)/h}else{const{left:r,width:o}=s;e=(t.clientX-r)/o}return Math.max(i(),Math.min(n(),this.j.Ob(fr(i(),n(),e,this.j.Ka()))))}Cd(t){this.$state.pointing.set(!0)}qi(t){const{dragging:e}=this.$state;e()||this.va(this.Dc(t),t)}Dd(t){this.$state.pointing.set(!1)}ri(t){if(t.button!==0)return;const e=this.Dc(t);this.Od(e,t),this.va(e,t)}Od(t,e){const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const i=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(i),this.j.Qd?.(i)}Af(t,e){const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const i=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(i),this.j.Ec?.(i),this.ua=null,this.mb=null}Ab(t){const{key:e}=t,{min:s,max:i}=this.$state;let n;if(e==="Home"||e==="PageUp"?n=s():e==="End"||e==="PageDown"?n=i():!t.metaKey&&/[0-9]/.test(e)&&(n=(i()-s())/10*Number(e)),!we(n)){this.va(n,t),this.Pd(n,t);return}const r=this.Bf(t);if(we(r))return;const o=e===this.Rd;!this.$state.dragging()&&o&&this.Od(r,t),this.va(r,t),o||this.Pd(r,t),this.Rd=e}zb(t){this.Rd="";const{dragging:e,value:s}=this.$state;if(!e())return;const i=this.Bf(t)??s();this.va(i),this.Af(i,t)}Bf(t){const{key:e,shiftKey:s}=t;if(!Object.keys(li).includes(e))return;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:i}=this.$props,{value:n,min:r,max:o}=this.$state,h=this.j.Ka(),c=this.j.Pb(),p=s?c*i():c,b=Number(li[e]),w=p*b,C=(n()+w)/h;return Math.max(r(),Math.min(o(),Number((h*C).toFixed(3))))}si(t){if(t.button!==0)return;const e=this.Dc(t);this.va(e,t),this.Af(e,t)}ui(t){t.preventDefault()}}const Ot=ht(()=>({})),Fe=ht();class ut extends J{constructor(t){super(),this.j=t,this.xi=at((e,s)=>{this.el?.style.setProperty("--slider-fill",e+"%"),this.el?.style.setProperty("--slider-pointer",s+"%")})}onSetup(){this.a=g();const t=new Y;t.attach(this),this.$state.focused=t.focused.bind(t),Z(Ot)||G(Ot,{default:"value"}),G(Fe,{ta:this.$props.orientation,Fc:this.j.K,Cf:x(null)}),l(this.D.bind(this)),l(this.Qb.bind(this)),this.vi(),new vr(this.j,this.a).attach(this)}onAttach(t){E(t,"role","slider"),E(t,"tabindex","0"),E(t,"autocomplete","off"),l(this.Df.bind(this))}D(){const{dragging:t,value:e,min:s,max:i}=this.$state;d(t)||e.set(br(s(),i(),e(),this.j.Ka()))}Qb(){if(!this.j.K())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}wi(){return Xt(this.j.K())}vi(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:i}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":i,"data-active":s,"aria-disabled":this.wi.bind(this),"aria-valuemin":this.$state.min,"aria-valuemax":this.$state.max,"aria-valuenow":this.j.ia,"aria-valuetext":this.j.ja,"aria-orientation":t})}Df(){const{fillPercent:t,pointerPercent:e}=this.$state;this.xi(H(t(),3),H(e(),3))}}ut.props={disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};class pt extends y{constructor(){super(),new ut({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.$props.disabled,ia:this.ia.bind(this),ja:this.ja.bind(this)})}onSetup(){l(this.D.bind(this)),l(this.yi.bind(this))}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return H(t()/e()*100,2)+"%"}D(){const{value:t}=this.$props;this.$state.value.set(t())}yi(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}}pt.props={...ut.props,min:0,max:100,value:0},pt.state=De;const et=new Map,Ie=new Set,Re=new Set;class bs{constructor(t,e){this.$src=t,this.a=e,this.$cues=x([]),l(this.zi.bind(this)),Re.add(this),T(()=>Re.delete(this))}static create(t){const e=g();return new bs(t,e)}zi(){const{canLoad:t}=this.a.$state;if(!t())return;const e=new AbortController,{crossorigin:s}=this.a.$state,i=this.$src();if(i){if(et.has(i)){const n=et.get(i);if(et.delete(i),et.set(i,n),et.size>30){const r=et.keys().next().value;et.delete(r)}this.$cues.set(et.get(i))}else Ie.has(i)||(Ie.add(i),import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(async({parseResponse:n})=>{try{const r=await fetch(i,{signal:e.signal,credentials:Te(s())});if(r.headers.get("content-type")==="application/json"){try{const{cues:h}=nn(await r.text(),window.VTTCue);this.Ef(i,h)}catch{}return}const{cues:o}=await n(r);this.Ef(i,o)}catch{}}));return()=>{e.abort(),this.$cues.set([])}}}Ef(t,e){this.$cues.set(e);for(const s of Re)d(s.$src)===t&&s.$cues.set(e);et.set(t,e),Ie.delete(t)}}class He extends y{constructor(){super(...arguments),this.Td=[],this.Ff=at(this.Fi.bind(this))}onSetup(){this.a=g(),this.Sd=bs.create(this.$props.src),this.setAttributes({"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":W(this.$state.hidden)})}onConnect(t){l(this.Ud.bind(this)),l(this.ob.bind(this)),l(this.Ea.bind(this)),l(this.Ai.bind(this)),l(this.Bi.bind(this))}Ud(){const t=this.$state.img();t&&(u(t,"load",this.qd.bind(this)),u(t,"error",this.U.bind(this)))}Ea(){const{src:t,loading:e,error:s}=this.$state;t(),e.set(!0),s.set(null)}qd(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null),this.Ff()}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}wa(){const{error:t}=this.$state;return!Mt(t())}ob(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.Sd.$cues();t.set(this.wa()||!Number.isFinite(e())||s.length===0)}Gf(){return this.$props.time()}Ai(){const t=this.Gf(),{activeCue:e}=this.$state,{duration:s}=this.a.$state,i=this.Sd.$cues();if(!i||!Number.isFinite(s())){e.set(null);return}e.set(rn(i,t))}Bi(){let{activeCue:t}=this.$state,e=t(),s=d(this.$props.src);if(/^https?:/.test(s)||(s=location.href),!s||!e){this.$state.src.set(""),this.Ci();return}const[i,n=""]=(e.text||"").split("#");this.$state.coords.set(this.Di(n)),this.$state.src.set(this.Ei(i,s)),this.Ff()}Ei(t,e){return/^https?:/.test(t)?t:new URL(t,e).href}Di(t){const[e,s]=t.split("="),i={},n=s?.split(",");if(!e||!s)return null;for(let r=0;r<e.length;r++)i[e[r]]=+n[r];return i}Fi(){if(!this.scope)return;const t=this.$state.img(),e=this.$state.coords();if(!t||!this.el)return;const s=e?.w??t.naturalWidth,i=e?.h??t.naturalHeight,{maxWidth:n,maxHeight:r,minWidth:o,minHeight:h}=getComputedStyle(this.el),c=Math.max(parseInt(o)/s,parseInt(h)/i),p=Math.min(parseInt(n)/s,parseInt(r)/i),b=p<1?p:c>1?c:1;this.pb(this.el,"--thumbnail-width",`${s*b}px`),this.pb(this.el,"--thumbnail-height",`${i*b}px`),this.pb(t,"width",`${t.naturalWidth*b}px`),this.pb(t,"height",`${t.naturalHeight*b}px`),this.pb(t,"transform",e?`translate(-${e.x*b}px, -${e.y*b}px)`:""),this.pb(t,"max-width","none")}pb(t,e,s){t.style.setProperty(e,s),this.Td.push(()=>t.style.removeProperty(e))}Ci(){for(const t of this.Td)t();this.Td=[]}}He.props={src:"",time:0},He.state=new yt({src:"",img:null,coords:null,activeCue:null,loading:!1,error:null,hidden:!1});var yr=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,kr=(a,t,e,s)=>{for(var i=s>1?void 0:s?$r(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&yr(t,e,i),i};class se extends y{get video(){return this.$state.video()}onSetup(){this.a=g(),this.Q=Lt(pt.state),this.setAttributes({"data-loading":this.Rb.bind(this),"data-hidden":this.$state.hidden,"data-error":this.wa.bind(this),"aria-hidden":W(this.$state.hidden)})}onAttach(t){l(this.Gi.bind(this)),l(this.fd.bind(this)),l(this.ob.bind(this)),l(this.Hi.bind(this)),l(this.Ii.bind(this))}Gi(){const t=this.$state.video();t&&(t.readyState>=2&&this.hc(),u(t,"canplay",this.hc.bind(this)),u(t,"error",this.U.bind(this)))}fd(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Rb(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}wa(){const{error:t}=this.$state;return!Mt(t)}ob(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:i}=this.a.$state;e.set(s()&&(!t()||this.wa()||!Number.isFinite(i())))}Hi(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}hc(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}U(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}Ii(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:i}=this.Q,n=t();e()&&n&&Number.isFinite(s())&&Number.isFinite(i())&&(n.currentTime=i()*s())}}se.props={src:null},se.state=new yt({video:null,src:null,canPlay:!1,error:null,hidden:!1}),kr([$],se.prototype,"video",1);function Be(a,t){const e=String(a),s=e.length;if(s<t){const i=t-s;return`${"0".repeat(i)}${a}`}return e}function ci(a){const t=Math.trunc(a/3600),e=Math.trunc(a%3600/60),s=Math.trunc(a%60),i=Number((a-Math.trunc(a)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:i}}function ie(a,t=null,e=null,s=!1){const{hours:i,minutes:n,seconds:r}=ci(a),o=t?Be(i,2):i,h=e||Mt(e)&&a>=3600?Be(n,2):n,c=Be(r,2);return i>0||s?`${o}:${h}:${c}`:`${h}:${c}`}function Ve(a){const t=[],{hours:e,minutes:s,seconds:i}=ci(a);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(i>0||t.length===0)&&t.push(`${i} sec`),t.join(" ")}var wr=Object.defineProperty,xr=Object.getOwnPropertyDescriptor,Tr=(a,t,e,s)=>{for(var i=s>1?void 0:s?xr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&wr(t,e,i),i};class Ke extends y{onSetup(){this.Q=Lt(pt.state),this.Sb=L(Ot),this.Ji=F(this.getValueText.bind(this))}getValueText(){const{type:t,format:e,decimalPlaces:s,padHours:i,padMinutes:n,showHours:r}=this.$props,{value:o,pointerValue:h,min:c,max:p}=this.Q,b=e()??this.Sb.default,w=t()==="current"?o():h();if(b==="percent"){const C=p()-c(),st=w/C*100;return(this.Sb.percent??H)(st,s())+"\uFE6A"}else return b==="time"?(this.Sb.time??ie)(w,i(),n(),r()):this.Sb.value?.(w)??w.toFixed(2)}}Ke.props={type:"pointer",format:null,showHours:!1,padHours:null,padMinutes:null,decimalPlaces:2},Tr([j],Ke.prototype,"getValueText",1);class di extends y{onSetup(){this.Q=L(Fe);const{active:t}=Lt(pt.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{Cf:e}=this.Q;e.set(t),T(()=>e.set(null)),l(this.Hf.bind(this));const s=new ResizeObserver(this.Hf.bind(this));s.observe(t),T(()=>s.disconnect())}Hf(){const{Fc:t,ta:e}=this.Q;if(t())return;const s=this.el,{offset:i,noClamp:n}=this.$props;Er(s,{clamp:!n(),offset:i(),orientation:e()})}}di.props={offset:0,noClamp:!1};function Er(a,{clamp:t,offset:e,orientation:s}){const{width:i,height:n}=a.getBoundingClientRect(),r={top:null,right:null,bottom:null,left:null};if(r[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const o=i/2;if(!t)r.left=`calc(var(--slider-pointer) - ${o}px)`;else{const h=`max(0px, calc(var(--slider-pointer) - ${o}px))`,c=`calc(100% - ${i}px)`;r.left=`min(${h}, ${c})`}}else{const o=n/2;if(!t)r.bottom=`calc(var(--slider-pointer) - ${o}px)`;else{const h=`max(${o}px, calc(var(--slider-pointer) - ${o}px))`,c=`calc(100% - ${n}px)`;r.bottom=`min(${h}, ${c})`}}Object.assign(a.style,r)}class Ue extends y{constructor(){super(...arguments),this.If=_t(this.ab.bind(this),25)}onSetup(){this.a=g(),G(Ot,{default:"percent"}),new ut({Ka:this.$props.step,Pb:this.$props.keyStep,K:this.$props.disabled,Ob:Math.round,ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),l(this.Fd.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),E(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":W(()=>!e())})}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return H(t()/e()*100,2)+"%"}Fd(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}ab(t){if(!t.trigger)return;const e=H(t.detail/100,3);this.a.remote.changeVolume(e,t)}o(t){this.If(t)}nb(t){this.If(t)}}Ue.props={...ut.props,keyStep:5,shiftKeyMultiplier:2},Ue.state=De;class ae extends y{constructor(){super(),this.Jf=x(null),this.Wd=!1,new ut({ni:!0,Ka:this.Ka.bind(this),Pb:this.Pb.bind(this),K:this.K.bind(this),Ob:this.Ob,ia:this.ia.bind(this),ja:this.ja.bind(this),Qd:this.Qd.bind(this),nb:this.nb.bind(this),Ec:this.Ec.bind(this),o:this.o.bind(this)})}onSetup(){this.a=g(),G(Ot,{default:"time",value:this.Ki.bind(this),time:this.Li.bind(this)}),this.setAttributes({"data-chapters":this.Mi.bind(this)}),this.setStyles({"--slider-progress":this.Ni.bind(this)}),l(this.jb.bind(this)),l(this.Oi.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),E(t,"aria-label","Seek")}onConnect(t){l(this.Pi.bind(this)),Jt(this.a.textTracks,"chapters",this.Jf.set)}Ni(){const{bufferedEnd:t,duration:e}=this.a.$state;return H(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}Mi(){const{duration:t}=this.a.$state;return this.Jf()?.cues.length&&Number.isFinite(t())&&t()>0}Oi(){this.Vd=_t(this.qa.bind(this),this.$props.seekingRequestThrottle())}jb(){const{currentTime:t}=this.a.$state,{value:e,dragging:s}=this.$state,i=this.Qi(t());d(s)||(e.set(i),this.dispatch("value-change",{detail:i}))}Pi(){const t=this.a.player.el,{Cf:e}=L(Fe);t&&e()&&m(t,"data-preview",this.$state.active())}qa(t,e){this.a.remote.seeking(t,e)}Ri(t,e,s){this.Vd.cancel();const{live:i}=this.a.$state;if(i()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}Qd(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.Wd=!s(),this.a.remote.pause(t)}}nb(t){this.Vd(this.Tb(t.detail),t)}Ec(t){const e=t.detail;this.Ri(this.Tb(e),e,t);const{pauseWhileDragging:s}=this.$props;s()&&this.Wd&&(this.a.remote.play(t),this.Wd=!1)}o(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Ec(t)}Ka(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Pb(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Ob(t){return H(t,3)}K(){const{canSeek:t}=this.a.$state;return this.$props.disabled()||!t()}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const t=this.Tb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${Ve(t)} out of ${Ve(e())}`:"live"}Tb(t){const{duration:e}=this.a.$state;return H(t/100*e(),5)}Qi(t){const{liveEdge:e,duration:s}=this.a.$state,i=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(i)?0:Number.isFinite(i)?i*100:100}Ki(t){const e=this.Tb(t),{live:s,duration:i}=this.a.$state;return Number.isFinite(e)?(s()?e-i():e).toFixed(0):"LIVE"}Li(t,e,s,i){const n=this.Tb(t),{live:r,duration:o}=this.a.$state,h=r()?n-o():n;return Number.isFinite(n)?`${h<0?"-":""}${ie(Math.abs(h),e,s,i)}`:"LIVE"}}ae.props={...ut.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,seekingRequestThrottle:100},ae.state=De;var Pr=Object.defineProperty,Sr=Object.getOwnPropertyDescriptor,ne=(a,t,e,s)=>{for(var i=s>1?void 0:s?Sr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Pr(t,e,i),i};class Tt extends y{constructor(){super(...arguments),this.La=null,this.R=[],this.Gc=x(null),this.it=x([]),this.Ub=x(-1),this.Hc=x(-1),this.Zd=0,this.Xi=at(t=>{let e,s=this.it();for(let i=this.Zd;i<this.R.length;i++)if(e=this.ae(s[i],t),this.R[i]?.style.setProperty("--chapter-progress",e+"%"),e<100){this.Zd=i;break}}),this.Yi=F(this.Zi.bind(this)),this.$i=Ks(()=>{const t=d(this.Gc);!this.scope||!t||!t.cues.length||(this.it.set(this.Ct(t.cues)),this.Ub.set(0))},150,!0)}get cues(){return this.it()}get activeCue(){return this.it()[this.Ub()]||null}get activePointerCue(){return this.it()[this.Hc()]||null}onSetup(){this.a=g(),this.Xd=Lt(ae.state)}onAttach(t){Jt(this.a.textTracks,"chapters",this.Kf.bind(this)),l(this.gt.bind(this))}onConnect(){T(()=>this.H.bind(this))}onDestroy(){this.Kf(null)}setRefs(t){if(this.R=t,this.Yd?.dispose(),this.R.length===1){const e=this.R[0];e.style.width="100%",e.style.setProperty("--chapter-fill","var(--slider-fill)"),e.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.R.length>0&&vt(()=>this.Si(),this.Yd=Ya())}Kf(t){d(this.Gc)!==t&&(this.H(),this.Gc.set(t))}H(){this.R=[],this.it.set([]),this.Ub.set(-1),this.Hc.set(-1),this.Zd=0,this.Yd?.dispose()}Si(){this.R.length&&(l(this.Ti.bind(this)),l(this.Ui.bind(this)),l(this.Vi.bind(this)),l(this.Wi.bind(this)))}Ti(){let t,e=this.it(),s=e[e.length-1].endTime;for(let i=0;i<e.length;i++)t=e[i],this.R[i]&&(this.R[i].style.width=H((t.endTime-t.startTime)/s*100,3)+"%")}Ui(){let{liveEdge:t,ended:e}=this.a.$state,{fillPercent:s,value:i}=this.Xd,n=this.it(),r=t(),o=d(this.Ub),h=n[o],c=r?this.it.length-1:this.Lf(h&&h.startTime<=d(i)?o:0,s());r||e()||!h?this.$d(0,n.length,"100%"):c>o?this.$d(o,c,"100%"):c<o&&this.$d(c+1,o+1,"0%");const p=r?"100%":this.ae(n[c],s())+"%";this.Mf(this.R[c],p),this.Ub.set(c)}Vi(){let{pointing:t,pointerPercent:e}=this.Xd;if(!t()){this.Hc.set(-1);return}const s=this.Lf(0,e());this.Hc.set(s)}$d(t,e,s){for(let i=t;i<e;i++)this.Mf(this.R[i],s)}Mf(t,e){t&&t.style.setProperty("--chapter-fill",e)}Lf(t,e){let s=0,i=this.it();for(let n=t;n<i.length;n++)if(s=this.ae(i[n],e),s>=0&&s<100)return n;return 0}Wi(){this.Xi(this.Yi())}Zi(){const{bufferedEnd:t,duration:e}=this.a.$state;return H(Math.min(t()/Math.max(e(),1),1),3)*100}ae(t,e){const s=this.it();if(s.length===0)return 0;const i=s[s.length-1],n=t.startTime/i.endTime*100,r=t.endTime/i.endTime*100;return Math.max(0,H(e>=r?100:(e-n)/(r-n)*100,3))}Ct(t){const e=[];t[0].startTime!==0&&e.push(new window.VTTCue(0,t[0].startTime,""));for(let s=0;s<t.length-1;s++){const i=t[s],n=t[s+1];if(e.push(i),n){const r=n.startTime-i.endTime;r>0&&e.push(new window.VTTCue(i.endTime,i.endTime+r,""))}}return e.push(t[t.length-1]),e}gt(){if(!this.scope)return;const{disabled:t}=this.$props;if(t())return;const e=this.Gc();if(e){const s=this.$i.bind(this);s(),T(u(e,"add-cue",s)),T(u(e,"remove-cue",s))}return this.La=this.aj(),this.La&&l(this.bj.bind(this)),()=>{this.La&&(this.La.textContent="",this.La=null)}}bj(){const t=this.activePointerCue||this.activeCue;this.La&&(this.La.textContent=t?.text||"")}cj(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}aj(){const t=this.cj();return t?t.querySelector('[data-part="chapter-title"]'):null}}Tt.props={disabled:!1},ne([$],Tt.prototype,"cues",1),ne([$],Tt.prototype,"activeCue",1),ne([$],Tt.prototype,"activePointerCue",1),ne([j],Tt.prototype,"setRefs",1);const q=ht(),Cr=["a[href]","[tabindex]","input","select","button"].map(a=>`${a}:not([aria-hidden])`).join(","),ui=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class Ar{constructor(t){this.j=t,this.ka=0,this.xa=null,this.da=[]}get r(){return this.da}Nf(t){return u(t,"focus",this.Lb.bind(this)),this.xa=t,T(()=>{this.xa=null}),this}zc(){this.xa&&(this.ea(),u(this.xa,"keyup",this.zb.bind(this)),u(this.xa,"keydown",this.Ab.bind(this)),T(()=>{this.ka=0,this.da=[]}))}ea(){this.ka=0,this.da=this.dj()}Of(t=this.Pf()){const e=this.da[t],s=this.j.ej();e&&s&&requestAnimationFrame(()=>{s.scrollTop=e.offsetTop-s.offsetHeight/2+e.offsetHeight/2})}qb(t){this.ka=t,this.da[t]?.focus(),this.Of(t)}Pf(){return this.da.findIndex(t=>t.getAttribute("aria-checked")==="true")}Lb(){this.ea(),setTimeout(()=>{const t=this.Pf();this.qb(t>=0?t:0)},100)}zb(t){ui.has(t.key)&&(t.stopPropagation(),t.preventDefault())}Ab(t){if(ui.has(t.key))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.fj(t);break;case"Tab":this.qb(this.be(t.shiftKey?-1:1));break;case"ArrowUp":this.qb(this.be(-1));break;case"ArrowDown":this.qb(this.be(1));break;case"Home":case"PageUp":this.qb(0);break;case"End":case"PageDown":this.qb(this.da.length-1);break}}be(t){let e=this.ka;do e=(e+t+this.da.length)%this.da.length;while(this.da[e]?.offsetParent===null);return e}dj(){if(!this.xa)return[];const t=this.xa.querySelectorAll(Cr),e=[],s=i=>i.getAttribute("role")==="menu";for(const i of t)i instanceof HTMLElement&&i.offsetParent!==null&&As(this.xa,i,s)&&e.push(i);return e}}var Mr=Object.defineProperty,Lr=Object.getOwnPropertyDescriptor,Nt=(a,t,e,s)=>{for(var i=s>1?void 0:s?Lr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Mr(t,e,i),i};let jr=0;class mt extends y{constructor(){super(),this.L=x(!1),this.Fc=x(!1),this.C=x(null),this.u=x(null),this.Qf=x(!1),this.Vb=new Set,this.Ic=null,this.rj=this.sj.bind(this),this.pj=this.tj.bind(this),this.qj=this.uj.bind(this);const{showDelay:t}=this.$props;this.Jc=new Zs({C:this.C,u:this.u,yf:t,zc:(e,s,i)=>{lt(e,r=>{this.L()?i(r):s(r)});const n=this.gj();n&&lt(n,r=>{r.stopPropagation(),i(r)})},B:this.hj.bind(this)})}get triggerElement(){return this.C()}get contentElement(){return this.u()}get isSubmenu(){return!!this.ee}onSetup(){this.a=g();const t=++jr;this.ce=`media-menu-${t}`,this.de=`media-menu-button-${t}`,this.rb=new Ar({ej:this.ij.bind(this),fj:this.close.bind(this)}),Z(q)&&(this.ee=L(q)),this.setAttributes({"data-open":this.L,"data-submenu":this.isSubmenu,"data-disabled":this.K.bind(this)}),G(q,{jj:this.C,L:this.L,Wb:x(""),Ma:this.Ma.bind(this),fe:this.fe.bind(this),ge:this.ge.bind(this),he:this.he.bind(this),ie:this.ie.bind(this),je:this.je.bind(this)})}onAttach(t){t.style.setProperty("display","contents"),this.rb.Nf(t)}onConnect(t){l(this.kj.bind(this)),this.isSubmenu&&this.ee?.je(this),requestAnimationFrame(()=>{this.O()})}onDestroy(){this.C.set(null),this.u.set(null),this.Ic=null}kj(){const t=this.lj();this.O(),this.Rf(t),t&&(l(()=>{const{height:e}=this.a.$state,s=this.u();s&&U(s,"--player-height",e()+"px")}),this.rb.zc(),this.listen("pointerup",this.mj.bind(this)),u(window,"pointerup",this.nj.bind(this)))}fe(t){const e=t.el,s=this.isSubmenu,i=W(this.K.bind(this));E(e,"tabindex",s?"-1":"0"),E(e,"role",s?"menuitem":"button"),m(e,"id",this.de),m(e,"aria-haspopup","menu"),m(e,"aria-expanded","false"),m(e,"data-submenu",this.isSubmenu),this.isSubmenu||this.Sf(e),l(()=>{m(e,"data-open",this.L()),m(e,"aria-disabled",i())}),this.C.set(e),T(()=>{this.C.set(null)})}ge(t){const e=t.el;e.style.setProperty("display","none"),m(e,"id",this.ce),E(e,"role","menu"),E(e,"tabindex","-1"),m(e,"data-submenu",this.isSubmenu),this.u.set(e),T(()=>this.u.set(null)),this.isSubmenu||this.Sf(e),l(()=>{m(e,"data-open",this.L())}),this.rb.Nf(e),this.Rf(!1);{const s=at(this.O.bind(this)),i=new MutationObserver(s);s(),i.observe(e,{childList:!0,subtree:!0}),T(()=>i.disconnect())}}he(t){this.Ic=t}Sf(t){u(t,"click",e=>e.stopPropagation()),u(t,"pointerup",e=>e.stopPropagation())}Rf(t){const e=d(this.u);e&&m(e,"aria-hidden",Xt(!t))}ie(t){this.Qf.set(t)}hj(t,e){if(e?.stopPropagation(),this.L()===t)return;if(this.K()){t&&this.Jc.hide(e);return}const s=this.C(),i=this.u();if(s&&(m(s,"aria-controls",t&&this.ce),m(s,"aria-expanded",Xt(t))),i&&m(i,"aria-labelledby",t&&this.de),this.L.set(t),this.oj(e),ot(),ke(e)){t?i?.focus():s?.focus();for(const n of[this.el,i])n&&n.setAttribute("data-keyboard","")}else for(const n of[this.el,i])n&&n.removeAttribute("data-keyboard");this.dispatch(t?"open":"close",{trigger:e}),t?(!this.isSubmenu&&this.a.activeMenu!==this&&(this.a.activeMenu?.close(e),this.a.activeMenu=this),this.Ic?.ke?.(e)):(this.isSubmenu?setTimeout(()=>{for(const n of this.Vb)n.close(e)},300):this.a.activeMenu=null,this.Ic?.Tj?.(e)),t&&!ke(e)&&requestAnimationFrame(()=>{this.rb.ea(),setTimeout(()=>{this.rb.Of()},100)})}lj(){return!this.K()&&this.L()}K(){return this.Fc()||this.Qf()}Ma(t){this.Fc.set(t)}mj(t){t.stopPropagation()}nj(t){if(this.isSubmenu)return setTimeout(this.close.bind(this,t),800);this.close(t)}gj(){const t=this.el.querySelector('[data-part="close-target"]');return As(this.el,t,e=>e.getAttribute("role")==="menu")?t:null}ij(){if(this.isSubmenu){let t=this.el;for(;t&&t.tagName!=="media-menu"&&t.hasAttribute("data-submenu");)t=t.parentNode;return t}else return d(this.u)||null}oj(t){this.isSubmenu||(this.L()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}je(t){this.Vb.add(t),u(t,"open",this.pj),u(t,"close",this.qj),T(this.rj)}sj(t){this.Vb.delete(t)}tj(t){for(const e of this.Vb)if(e!==t.target)for(const s of[e.el,e.triggerElement])s?.setAttribute("aria-hidden","true");requestAnimationFrame(()=>{this.O()})}uj(){for(const t of this.Vb)for(const e of[t.el,t.triggerElement])e?.setAttribute("aria-hidden","false");requestAnimationFrame(()=>{this.O()})}O(){const t=d(this.u);if(!t)return;let{paddingTop:e,paddingBottom:s,borderTopWidth:i,borderBottomWidth:n}=getComputedStyle(t),r=parseFloat(e)+parseFloat(s)+parseFloat(i)+parseFloat(n),o=[...t.children];for(const h of o)h instanceof HTMLElement&&h.style.display==="contents"?o.push(...h.children):h.nodeType===3?r+=parseInt(window.getComputedStyle(h).fontSize,10):r+=h.offsetHeight||0;requestAnimationFrame(()=>{t&&(m(t,"data-resizing",""),setTimeout(()=>{t&&m(t,"data-resizing",!1)},400),U(t,"--menu-height",r+"px"))})}open(t){d(this.L)||(this.Jc.show(t),ot())}close(t){d(this.L)&&(this.Jc.hide(t),ot())}}mt.props={showDelay:0},Nt([$],mt.prototype,"triggerElement",1),Nt([$],mt.prototype,"contentElement",1),Nt([$],mt.prototype,"isSubmenu",1),Nt([j],mt.prototype,"open",1),Nt([j],mt.prototype,"close",1);var Or=Object.defineProperty,Nr=Object.getOwnPropertyDescriptor,qr=(a,t,e,s)=>{for(var i=s>1?void 0:s?Nr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Or(t,e,i),i};class re extends y{constructor(){super(),new Y}get expanded(){return this.l?.L()??!1}onSetup(){this.l=L(q)}onAttach(t){this.l.fe(this),l(this.Qb.bind(this)),E(t,"type","button")}onConnect(t){const e=Array.from(t.querySelectorAll('[data-part="hint"]')).pop();e&&l(()=>{const s=this.l.Wb();s&&(e.textContent=s)}),lt(t,s=>{this.dispatch("select",{trigger:s})})}Qb(){this.l.ie(this.$props.disabled())}}re.props={disabled:!1},qr([$],re.prototype,"expanded",1);class Dr extends re{}class pi extends y{constructor(){super(...arguments),this.A=null}onSetup(){this.a=g(),G(oe,{Ja:this.vj.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){this.A?.remove(),this.A=null}vj(t){this.Tf(!1),this.A=t,ct(()=>{ct(()=>{this.connectScope&&l(this.Qb.bind(this))})})}Qb(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.Tf(s==="fullscreen"?!t():!s)}Tf(t){if(!this.A)return;let e=this.wj(this.$props.container());if(!e)return;const s=this.A.parentElement===e;m(this.A,"data-portal",t),t?s||(this.A.remove(),e.append(this.A)):s&&this.A.parentElement===e&&(this.A.remove(),this.el?.append(this.A))}wj(t){return t instanceof HTMLElement?t:t?document.querySelector(t):document.body}}pi.props={container:null,disabled:!1};const oe=ht();class mi extends y{constructor(){super(),new Y;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.l=L(q),this.l.ge(this),Z(oe)){const e=L(oe);e&&(G(oe,null),e.Ja(t),T(()=>e.Ja(null)))}}onConnect(t){l(this.Nd.bind(this))}Nd(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return Ls(this.el,this.Cc(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}Cc(){return this.l.jj()}}mi.props={placement:null,offset:0,alignOffset:0};const Qe=ht();class Et extends J{constructor(){super(...arguments),this.sb=new Set,this.la=x(""),this.d=null,this.Aj=this.B.bind(this)}get xj(){return Array.from(this.sb).map(t=>t.la())}get value(){return this.la()}set value(t){this.B(t)}onSetup(){G(Qe,{add:this.yj.bind(this),remove:this.zj.bind(this)})}onAttach(t){Z(q)||E(t,"role","radiogroup"),this.setAttributes({value:this.la})}onDestroy(){this.sb.clear()}yj(t){this.sb.has(t)||(this.sb.add(t),t.Kc=this.Aj,t.Xb(t.la()===this.la()))}zj(t){t.Kc=null,this.sb.delete(t)}B(t,e){const s=d(this.la);if(!t||t===s)return;const i=this.Uf(s),n=this.Uf(t);i?.Xb(!1,e),n?.Xb(!0,e),this.la.set(t),this.o?.(t,e)}Uf(t){for(const e of this.sb)if(t===d(e.la))return e;return null}}var Fr=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,gi=(a,t,e,s)=>{for(var i=s>1?void 0:s?Ir(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Fr(t,e,i),i};class he extends y{constructor(){super(),this.d=new Et,this.d.o=this.o.bind(this)}get values(){return this.d.xj}get value(){return this.d.value}set value(t){this.d.value=t}onSetup(){l(this.D.bind(this))}D(){this.d.value=this.$props.value()}o(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}}he.props={value:""},gi([$],he.prototype,"values",1),gi([$],he.prototype,"value",1);var Rr=Object.defineProperty,Hr=Object.getOwnPropertyDescriptor,Br=(a,t,e,s)=>{for(var i=s>1?void 0:s?Hr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Rr(t,e,i),i};class ze extends y{constructor(){super(),this.Na=x(!1),this.d={la:this.$props.value,Xb:this.Xb.bind(this),Kc:null},new Y}get checked(){return this.Na()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Na,"aria-checked":W(this.Na)})}onAttach(t){const e=Z(q);E(t,"tabindex",e?"-1":"0"),E(t,"role",e?"menuitemradio":"radio"),l(this.D.bind(this))}onConnect(t){this.Bj(),lt(t,this.v.bind(this)),T(this.ya.bind(this))}ya(){vt(()=>{L(Qe).remove(this.d)},this.connectScope)}Bj(){L(Qe).add(this.d)}D(){const{value:t}=this.$props,e=t();d(this.Na)&&this.d.Kc?.(e)}v(t){d(this.Na)||(this.B(!0,t),this.Cj(t),this.d.Kc?.(d(this.$props.value),t))}Xb(t,e){d(this.Na)!==t&&this.B(t,e)}B(t,e){this.Na.set(t),this.dispatch("change",{detail:t,trigger:e})}Cj(t){this.dispatch("select",{trigger:t})}}ze.props={value:""},Br([$],ze.prototype,"checked",1);var Vr=Object.defineProperty,Kr=Object.getOwnPropertyDescriptor,We=(a,t,e,s)=>{for(var i=s>1?void 0:s?Kr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Vr(t,e,i),i};class qt extends y{constructor(){super(),this.ka=x(0),this.z=x(null),this.J=x([]),this.d=new Et,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){return!this.J()?.length}onSetup(){this.a=g(),Z(q)&&(this.l=L(q));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){this.l?.he({ke:this.ke.bind(this)})}getOptions(){return this.J().map((t,e)=>({cue:t,value:e+"",label:t.text,startTime:ie(t.startTime,!1),duration:Ve(t.endTime-t.startTime)}))}ke(){d(()=>this.jb())}onConnect(t){l(this.D.bind(this)),l(this.jb.bind(this)),l(this.ma.bind(this)),l(this.tk.bind(this)),Jt(this.a.textTracks,"chapters",this.z.set)}tk(){const t=this.z();if(!t)return;const e=this.$i.bind(this,t);return e(),u(t,"add-cue",e),u(t,"remove-cue",e),()=>{this.J.set([])}}$i(t){this.J.set([...t.cues])}D(){this.d.value=this.na()}jb(){if(!this.l?.L())return;const t=this.z();if(!t){this.ka.set(-1);return}const{currentTime:e}=this.a.$state,s=e(),i=t.cues.findIndex(n=>on(n,s));if(this.ka.set(i),i>=0){const n=t.cues[i],r=this.el.querySelector("[aria-checked='true']"),o=(s-n.startTime)/(n.endTime-n.startTime)*100;r&&U(r,"--progress",H(o,3)+"%")}}ma(){this.l?.Ma(this.disabled)}na(){return this.ka()+""}o(t,e){if(this.disabled||!e)return;const s=+t,i=this.z()?.cues;ks(s)&&i?.[s]&&(this.ka.set(s),this.a.remote.seek(i[s].startTime,e),this.dispatch("change",{detail:i[s],trigger:e}))}}qt.props={thumbnails:""},We([$],qt.prototype,"value",1),We([$],qt.prototype,"disabled",1),We([j],qt.prototype,"getOptions",1);var Ur=Object.defineProperty,Qr=Object.getOwnPropertyDescriptor,Xe=(a,t,e,s)=>{for(var i=s>1?void 0:s?Qr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Ur(t,e,i),i};class Dt extends y{constructor(){super(),this.d=new Et,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length===0}onSetup(){this.a=g(),Z(q)&&(this.l=L(q))}onConnect(t){l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}D(){this.d.value=this.na()}Oa(){const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();this.l?.Wb.set(s?.label??t())}ma(){this.l?.Ma(this.disabled)}na(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}o(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(i=>i.label.toLowerCase()===t);if(s>=0){const i=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:i,trigger:e})}}}Dt.props={emptyLabel:"Default"},Xe([$],Dt.prototype,"value",1),Xe([$],Dt.prototype,"disabled",1),Xe([j],Dt.prototype,"getOptions",1);var zr=Object.defineProperty,Wr=Object.getOwnPropertyDescriptor,Ge=(a,t,e,s)=>{for(var i=s>1?void 0:s?Wr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&zr(t,e,i),i};class Ft extends y{constructor(){super(),this.d=new Et,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{textTracks:t}=this.a.$state;return t().filter(I).length===0}onSetup(){this.a=g(),Z(q)&&(this.l=L(q))}onConnect(t){super.onConnect?.(t),l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(I).map(s=>({track:s,label:s.label,value:this.xk(s)}))]}D(){this.d.value=this.na()}Oa(){const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();this.l?.Wb.set(s&&I(s)&&s.mode==="showing"?s.label:t())}ma(){this.l?.Ma(this.disabled)}na(){const{textTrack:t}=this.a.$state,e=t();return e&&I(e)&&e.mode==="showing"?this.xk(e):"off"}o(t,e){if(this.disabled)return;if(t==="off"){const i=this.a.textTracks.selected;if(i){const n=this.a.textTracks.toArray().indexOf(i);this.a.remote.changeTextTrackMode(n,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(i=>this.xk(i)===t);if(s>=0){const i=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:i,trigger:e})}}xk(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}}Ft.props={offLabel:"Off"},Ge([$],Ft.prototype,"value",1),Ge([$],Ft.prototype,"disabled",1),Ge([j],Ft.prototype,"getOptions",1);var Xr=Object.defineProperty,Gr=Object.getOwnPropertyDescriptor,Ye=(a,t,e,s)=>{for(var i=s>1?void 0:s?Gr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Xr(t,e,i),i};class It extends y{constructor(){super(),this.d=new Et,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||t().length===0}onSetup(){this.a=g(),Z(q)&&(this.l=L(q))}onConnect(t){l(this.D.bind(this)),l(this.Oa.bind(this)),l(this.ma.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"\xD7",value:s+""}))}D(){this.d.value=this.na()}Oa(){const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();this.l?.Wb.set(s===1?t():s+"\xD7")}ma(){this.l?.Ma(this.disabled)}na(){const{playbackRate:t}=this.a.$state;return t()+""}o(t,e){if(this.disabled)return;const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}}It.props={normalLabel:"Normal",rates:[.25,.5,.75,1,1.25,1.5,1.75,2]},Ye([$],It.prototype,"value",1),Ye([$],It.prototype,"disabled",1),Ye([j],It.prototype,"getOptions",1);var Yr=Object.defineProperty,Jr=Object.getOwnPropertyDescriptor,Je=(a,t,e,s)=>{for(var i=s>1?void 0:s?Jr(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Yr(t,e,i),i};class Rt extends y{constructor(){super(),this.Dj=F(()=>{const{qualities:t}=this.a.$state;return[...t()].sort((e,s)=>s.height===e.height?s.bitrate-e.bitrate:s.height-e.height)}),this.d=new Et,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length===0}onSetup(){this.a=g(),Z(q)&&(this.l=L(q))}onConnect(t){l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Dj().map(s=>{const i=s.bitrate>=0?`${H(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.le(s),bitrate:()=>e()?null:i}})]}D(){this.d.value=this.na()}Oa(){const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,i=s()?s().height+"p":"";this.l?.Wb.set(e()?t()+(i?` (${i})`:""):i)}ma(){this.l?.Ma(this.disabled)}o(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,i=d(s).findIndex(n=>this.le(n)===t);if(i>=0){const n=d(s)[i];this.a.remote.changeQuality(i,e),this.dispatch("change",{detail:n,trigger:e})}}na(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.le(s):"auto"}le(t){return t.height+"_"+t.bitrate}}Rt.props={autoLabel:"Auto",hideBitrate:!1},Je([$],Rt.prototype,"value",1),Je([$],Rt.prototype,"disabled",1),Je([j],Rt.prototype,"getOptions",1);class bi extends y{constructor(){super(...arguments),this.i=null,this.Pa=0,this.Vf=-1}onSetup(){this.a=g();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){this.i=this.a.player.el?.querySelector("[data-media-provider]"),l(this.Ej.bind(this))}Ej(){let t=this.$props.event();!this.i||!t||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),u(this.i,t,this.Fj.bind(this),{passive:!1}))}Fj(t){if(!(ws(t)&&(t.button!==0||this.a.activeMenu)||Wt(t)&&this.a.activeMenu||Ce(t)||!this.Gj(t))){if(t.MEDIA_GESTURE=!0,t.preventDefault(),!d(this.$props.event)?.startsWith("dbl"))this.Pa===0&&setTimeout(()=>{this.Pa===1&&this.Wf(t)},250);else if(this.Pa===1){queueMicrotask(()=>this.Wf(t)),clearTimeout(this.Vf),this.Pa=0;return}this.Pa===0&&(this.Vf=window.setTimeout(()=>{this.Pa=0},275)),this.Pa++}}Wf(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Hj()&&this.Ij(d(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}Gj(t){if(!this.el)return!1;if(ws(t)||Ja(t)||Wt(t)){const e=Wt(t)?t.changedTouches[0]??t.touches[0]:void 0,s=e?.clientX??t.clientX,i=e?.clientY??t.clientY,n=this.el.getBoundingClientRect(),r=i>=n.top&&i<=n.bottom&&s>=n.left&&s<=n.right;return t.type.includes("leave")?!r:r}return!0}Hj(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Ij(t,e){if(!t)return;const s=new tt("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[i,n]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(d(this.a.$state.currentTime)+(+n||0),e):this.a.remote[Za(i)](e),this.dispatch("trigger",{detail:t,trigger:e})}}bi.props={event:void 0,action:void 0};class Zr{constructor(t){this.S=t,this.priority=10,this.z=null,this.sa=_a()}attach(){}canRender(){return!0}detach(){this.sa.empty(),this.S.reset(),this.z=null}changeTrack(t){!t||this.z===t||(this.sa.empty(),t.readyState<2?(this.S.reset(),this.sa.add(u(t,"load",()=>this.Xf(t),{once:!0}))):this.Xf(t),this.sa.add(u(t,"add-cue",e=>{this.S.addCue(e.detail)}),u(t,"remove-cue",e=>{this.S.removeCue(e.detail)})),this.z=t)}Xf(t){this.S.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}class fi extends y{onSetup(){this.a=g(),this.setAttributes({"aria-hidden":W(this.lb.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){if(this.S){l(this.Yf.bind(this));return}import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(e=>{this.connectScope&&vt(()=>{this.W=e;const{CaptionsRenderer:s}=this.W;this.S=new s(t),this.Qa=new Zr(this.S),l(this.Yf.bind(this))},this.connectScope)})}onDestroy(){this.Qa&&(this.Qa.detach(),this.a.textRenderers.remove(this.Qa)),this.S?.destroy()}lb(){const{textTrack:t}=this.a.$state,e=t();return this.a.$iosControls()||!e||!I(e)}Yf(){const{viewType:t}=this.a.$state;return t()==="audio"?this.Jj():this.Kj()}Jj(){return l(this.gt.bind(this)),()=>{this.el.textContent=""}}gt(){if(this.lb())return;const{textTrack:t}=this.a.$state;this.Zf(),u(t(),"cue-change",this.Zf.bind(this)),l(this.Lj.bind(this))}Zf(){this.el.textContent="";const{currentTime:t,textTrack:e}=this.a.$state,s=d(t),i=d(e).activeCues,{renderVTTCueString:n}=this.W;for(const r of i){const o=document.createElement("div");o.setAttribute("data-part","cue"),o.innerHTML=n(r,s),this.el.append(o)}}Lj(){const{currentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.W;e(this.el,t())}Kj(){return l(this.Mj.bind(this)),l(this.Nj.bind(this)),this.a.textRenderers.add(this.Qa),()=>{this.el.textContent="",this.Qa.detach(),this.a.textRenderers.remove(this.Qa)}}Mj(){this.S.dir=this.$props.textDir()}Nj(){if(this.lb())return;const{currentTime:t}=this.a.$state;this.S.currentTime=t()}}fi.props={textDir:"ltr"};class Ze extends y{onSetup(){this.a=g(),this.kt(),this.$f(),this.ob()}onAttach(t){t.style.setProperty("pointer-events","none"),l(this.Ud.bind(this)),l(this.kt.bind(this)),l(this.$f.bind(this)),l(this.ob.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e(),"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){const{canLoad:e,poster:s}=this.a.$state;window.requestAnimationFrame(()=>{e()||Es(s())}),l(this.Ea.bind(this))}wa(){const{error:t}=this.$state;return!Mt(t())}ob(){const{src:t}=this.$props,{$iosControls:e}=this.a,{poster:s}=this.a.$state;this.el&&m(this.el,"display",e()?"none":null),this.$state.hidden.set(this.wa()||!(t()||s())||e())}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}Ud(){const t=this.$state.img();t&&(u(t,"load",this.lc.bind(this)),u(t,"error",this.U.bind(this)))}kt(){const{canLoad:t,poster:e}=this.a.$state,s=this.$props.src(),i=s||e();s&&e()!==s&&this.a.$state.providedPoster.set(s),this.$state.src.set(t()&&i.length?i:null)}$f(){const{src:t,alt:e}=this.$state;e.set(t()?this.$props.alt():null)}Ea(){const{loading:t,error:e}=this.$state,{canLoad:s,poster:i}=this.a.$state;t.set(s()&&!!i()),e.set(null)}lc(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}}Ze.props={src:void 0,alt:void 0},Ze.state=new yt({img:null,src:null,alt:null,loading:!0,error:null,hidden:!1});class _e extends y{onSetup(){this.a=g(),this.ag();const{type:t,remainder:e}=this.$props;this.setAttributes({"data-type":t,"data-remainder":e})}onAttach(t){l(this.ag.bind(this))}ag(){const{type:t,remainder:e,padHours:s,padMinutes:i,showHours:n}=this.$props,r=this.Oj(t()),o=this.a.$state.duration();if(!Number.isFinite(r+o)){this.$state.timeText.set("LIVE");return}const h=e()?Math.max(0,o-r):r,c=ie(h,s(),i(),n());this.$state.timeText.set(c)}Oj(t){const{bufferedEnd:e,duration:s,currentTime:i}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return i()}}}_e.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1},_e.state=new yt({timeText:""});var _r=Object.defineProperty,to=Object.getOwnPropertyDescriptor,eo=Object.getPrototypeOf,so=Reflect.get,ts=(a,t,e,s)=>{for(var i=s>1?void 0:s?to(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&_r(t,e,i),i},vi=(a,t,e)=>so(eo(a),e,t);class Pt extends y{constructor(){super(...arguments),this.menuContainer=null}get isMatch(){return this.me.matches}get isSmallLayout(){return this.Lc.matches}onSetup(){const{when:t,smallWhen:e,thumbnails:s,translations:i,menuGroup:n,noModal:r}=this.$props;this.me=Yt.create(t),this.Lc=Yt.create(e),this.setAttributes({"data-match":this.me.$matches,"data-size":()=>this.Lc.matches?"sm":null});const o=this;G(yi,{smQueryList:this.Lc,thumbnails:s,translations:i,menuGroup:n,noModal:r,get menuContainer(){return o.menuContainer}})}}Pt.props={when:"",smallWhen:"",thumbnails:"",customIcons:!1,translations:null,menuGroup:"bottom",noModal:!1},ts([$],Pt.prototype,"menuContainer",2),ts([$],Pt.prototype,"isMatch",1),ts([$],Pt.prototype,"isSmallLayout",1);const le=class extends Pt{};le.props={...vi(le,le,"props"),when:"(view-type: audio)",smallWhen:"(width < 576)"};let io=le;const ce=class extends Pt{};ce.props={...vi(ce,ce,"props"),when:"(view-type: video)",smallWhen:"(width < 576) or (height < 380)"};let ao=ce;function _(a,t){return a()?.[t]??t}const yi=ht();function N(){return L(yi)}class es extends v(HTMLElement,Jn){}es.tagName="media-player",es.attrs={preferNativeHLS:"prefer-native-hls"};class $i extends v(HTMLElement,ee){constructor(){super(...arguments),this.A=null,this.Vj=null}onSetup(){this.a=g(),this.setAttribute("keep-alive","")}onDestroy(){this.Vj?.remove(),this.Vj=null,this.A?.remove(),this.A=null}onConnect(){l(()=>{const t=this.$state.loader(),e=t?.canPlay({src:"",type:"video/youtube"}),s=t?.canPlay({src:"",type:"video/vimeo"}),i=e||s,n=t?i?this.ek():t.mediaType()==="audio"?this.fk():this.Yj():null;if(this.A!==n){const r=this.A?.parentElement??this;this.A?.remove(),this.A=n,n&&r.prepend(n),i&&n&&l(()=>{const{$iosControls:o}=this.a,{controls:h}=this.a.$state,c=h()||o();c?(this.Vj?.remove(),this.Vj=null):(this.Vj=this.querySelector(".vds-blocker")??document.createElement("div"),this.Vj.classList.add("vds-blocker"),n.after(this.Vj)),m(n,"data-no-controls",!c)})}e?n?.classList.add("vds-youtube"):s&&n?.classList.add("vds-vimeo"),i||(this.Vj?.remove(),this.Vj=null),this.load(n)})}fk(){const t=this.A instanceof HTMLAudioElement?this.A:document.createElement("audio");m(t,"preload","none"),m(t,"aria-hidden","true");const{controls:e,crossorigin:s}=this.a.$state;return l(()=>{m(t,"controls",e()),m(t,"crossorigin",s())}),t}Yj(){const t=this.A instanceof HTMLVideoElement?this.A:document.createElement("video"),{controls:e,crossorigin:s,poster:i}=this.a.$state,{$iosControls:n}=this.a,r=F(()=>e()||n()?"":null),o=F(()=>i()&&(e()||n())?i():null);return l(()=>{m(t,"controls",r()),m(t,"crossorigin",s()),m(t,"poster",o())}),t}ek(){return this.A instanceof HTMLIFrameElement?this.A:document.createElement("iframe")}}$i.tagName="media-provider",f(es),f($i);var ss;const de=window,St=de.trustedTypes,ki=St?St.createPolicy("lit-html",{createHTML:a=>a}):void 0,is="$lit$",nt=`lit$${(Math.random()+"").slice(9)}$`,wi="?"+nt,no=`<${wi}>`,gt=document,Ht=()=>gt.createComment(""),Bt=a=>a===null||typeof a!="object"&&typeof a!="function",xi=Array.isArray,ro=a=>xi(a)||typeof a?.[Symbol.iterator]=="function",as=`[ 	
\f\r]`,Vt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ti=/-->/g,Ei=/>/g,bt=RegExp(`>|${as}(?:([^\\s"'>=/]+)(${as}*=${as}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Pi=/'/g,Si=/"/g,Ci=/^(?:script|style|textarea|title)$/i,oo=a=>(t,...e)=>({ct:a,strings:t,values:e}),k=oo(1),Ct=Symbol.for("lit-noChange"),M=Symbol.for("lit-nothing"),Ai=new WeakMap,ft=gt.createTreeWalker(gt,129,null,!1);function Mi(a,t){if(!Array.isArray(a)||!a.hasOwnProperty("raw"))throw Error("invalid template strings array");return ki!==void 0?ki.createHTML(t):t}const ho=(a,t)=>{const e=a.length-1,s=[];let i,n=t===2?"<svg>":"",r=Vt;for(let o=0;o<e;o++){const h=a[o];let c,p,b=-1,w=0;for(;w<h.length&&(r.lastIndex=w,p=r.exec(h),p!==null);)w=r.lastIndex,r===Vt?p[1]==="!--"?r=Ti:p[1]!==void 0?r=Ei:p[2]!==void 0?(Ci.test(p[2])&&(i=RegExp("</"+p[2],"g")),r=bt):p[3]!==void 0&&(r=bt):r===bt?p[0]===">"?(r=i??Vt,b=-1):p[1]===void 0?b=-2:(b=r.lastIndex-p[2].length,c=p[1],r=p[3]===void 0?bt:p[3]==='"'?Si:Pi):r===Si||r===Pi?r=bt:r===Ti||r===Ei?r=Vt:(r=bt,i=void 0);const C=r===bt&&a[o+1].startsWith("/>")?" ":"";n+=r===Vt?h+no:b>=0?(s.push(c),h.slice(0,b)+is+h.slice(b)+nt+C):h+nt+(b===-2?(s.push(void 0),o):C)}return[Mi(a,n+(a[e]||"<?>")+(t===2?"</svg>":"")),s]};class zt{constructor({strings:t,ct:e},s){let i;this.parts=[];let n=0,r=0;const o=t.length-1,h=this.parts,[c,p]=ho(t,e);if(this.el=zt.createElement(c,s),ft.currentNode=this.el.content,e===2){const b=this.el.content,w=b.firstChild;w.remove(),b.append(...w.childNodes)}for(;(i=ft.nextNode())!==null&&h.length<o;){if(i.nodeType===1){if(i.hasAttributes()){const b=[];for(const w of i.getAttributeNames())if(w.endsWith(is)||w.startsWith(nt)){const C=p[r++];if(b.push(w),C!==void 0){const st=i.getAttribute(C.toLowerCase()+is).split(nt),it=/([.?@])?(.*)/.exec(C);h.push({type:1,index:n,name:it[2],strings:st,ctor:it[1]==="."?co:it[1]==="?"?po:it[1]==="@"?mo:ue})}else h.push({type:6,index:n})}for(const w of b)i.removeAttribute(w)}if(Ci.test(i.tagName)){const b=i.textContent.split(nt),w=b.length-1;if(w>0){i.textContent=St?St.emptyScript:"";for(let C=0;C<w;C++)i.append(b[C],Ht()),ft.nextNode(),h.push({type:2,index:++n});i.append(b[w],Ht())}}}else if(i.nodeType===8)if(i.data===wi)h.push({type:2,index:n});else{let b=-1;for(;(b=i.data.indexOf(nt,b+1))!==-1;)h.push({type:7,index:n}),b+=nt.length-1}n++}}static createElement(t,e){const s=gt.createElement("template");return s.innerHTML=t,s}}function At(a,t,e=a,s){var i,n,r,o;if(t===Ct)return t;let h=s!==void 0?(i=e.wt)===null||i===void 0?void 0:i[s]:e.At;const c=Bt(t)?void 0:t.Mt;return h?.constructor!==c&&((n=h?.xt)===null||n===void 0||n.call(h,!1),c===void 0?h=void 0:(h=new c(a),h.bt(a,e,s)),s!==void 0?((r=(o=e).wt)!==null&&r!==void 0?r:o.wt=[])[s]=h:e.At=h),h!==void 0&&(t=At(a,h.Lt(a,t.values),h,s)),t}let lo=class{constructor(t,e){this.Tt=[],this.at=void 0,this.Et=t,this.st=e}get parentNode(){return this.st.parentNode}get nt(){return this.st.nt}u(t){var e;const{el:{content:s},parts:i}=this.Et,n=((e=t?.creationScope)!==null&&e!==void 0?e:gt).importNode(s,!0);ft.currentNode=n;let r=ft.nextNode(),o=0,h=0,c=i[0];for(;c!==void 0;){if(o===c.index){let p;c.type===2?p=new ns(r,r.nextSibling,this,t):c.type===1?p=new c.ctor(r,c.name,c.strings,this,t):c.type===6&&(p=new go(r,this,t)),this.Tt.push(p),c=i[++h]}o!==c?.index&&(r=ft.nextNode(),o++)}return ft.currentNode=gt,n}v(t){let e=0;for(const s of this.Tt)s!==void 0&&(s.strings!==void 0?(s.rt(t,s,e),e+=s.strings.length-2):s.rt(t[e])),e++}},ns=class Ha{constructor(t,e,s,i){var n;this.type=2,this.tt=M,this.at=void 0,this.ht=t,this.dt=e,this.st=s,this.options=i,this.Pt=(n=i?.isConnected)===null||n===void 0||n}get nt(){var t,e;return(e=(t=this.st)===null||t===void 0?void 0:t.nt)!==null&&e!==void 0?e:this.Pt}get parentNode(){let t=this.ht.parentNode;const e=this.st;return e!==void 0&&t?.nodeType===11&&(t=e.parentNode),t}get startNode(){return this.ht}get endNode(){return this.dt}rt(t,e=this){t=At(this,t,e),Bt(t)?t===M||t==null||t===""?(this.tt!==M&&this.ut(),this.tt=M):t!==this.tt&&t!==Ct&&this.it(t):t.ct!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):ro(t)?this.T(t):this.it(t)}k(t){return this.ht.parentNode.insertBefore(t,this.dt)}$(t){this.tt!==t&&(this.ut(),this.tt=this.k(t))}it(t){this.tt!==M&&Bt(this.tt)?this.ht.nextSibling.data=t:this.$(gt.createTextNode(t)),this.tt=t}g(t){var e;const{values:s,ct:i}=t,n=typeof i=="number"?this.jt(t):(i.el===void 0&&(i.el=zt.createElement(Mi(i.h,i.h[0]),this.options)),i);if(((e=this.tt)===null||e===void 0?void 0:e.Et)===n)this.tt.v(s);else{const r=new lo(n,this),o=r.u(this.options);r.v(s),this.$(o),this.tt=r}}jt(t){let e=Ai.get(t.strings);return e===void 0&&Ai.set(t.strings,e=new zt(t)),e}T(t){xi(this.tt)||(this.tt=[],this.ut());const e=this.tt;let s,i=0;for(const n of t)i===e.length?e.push(s=new Ha(this.k(Ht()),this.k(Ht()),this,this.options)):s=e[i],s.rt(n),i++;i<e.length&&(this.ut(s&&s.dt.nextSibling,i),e.length=i)}ut(t=this.ht.nextSibling,e){var s;for((s=this.vt)===null||s===void 0||s.call(this,!1,!0,e);t&&t!==this.dt;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var e;this.st===void 0&&(this.Pt=t,(e=this.vt)===null||e===void 0||e.call(this,t))}};class ue{constructor(t,e,s,i,n){this.type=1,this.tt=M,this.at=void 0,this.element=t,this.name=e,this.st=i,this.options=n,s.length>2||s[0]!==""||s[1]!==""?(this.tt=Array(s.length-1).fill(new String),this.strings=s):this.tt=M}get tagName(){return this.element.tagName}get nt(){return this.st.nt}rt(t,e=this,s,i){const n=this.strings;let r=!1;if(n===void 0)t=At(this,t,e,0),r=!Bt(t)||t!==this.tt&&t!==Ct,r&&(this.tt=t);else{const o=t;let h,c;for(t=n[0],h=0;h<n.length-1;h++)c=At(this,o[s+h],e,h),c===Ct&&(c=this.tt[h]),r||(r=!Bt(c)||c!==this.tt[h]),c===M?t=M:t!==M&&(t+=(c??"")+n[h+1]),this.tt[h]=c}r&&!i&&this.j(t)}j(t){t===M?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class co extends ue{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===M?void 0:t}}const uo=St?St.emptyScript:"";class po extends ue{constructor(){super(...arguments),this.type=4}j(t){t&&t!==M?this.element.setAttribute(this.name,uo):this.element.removeAttribute(this.name)}}class mo extends ue{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}rt(t,e=this){var s;if((t=(s=At(this,t,e,0))!==null&&s!==void 0?s:M)===Ct)return;const i=this.tt,n=t===M&&i!==M||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==M&&(i===M||n);n&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this.tt=t}handleEvent(t){var e,s;typeof this.tt=="function"?this.tt.call((s=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&s!==void 0?s:this.element,t):this.tt.handleEvent(t)}}class go{constructor(t,e,s){this.element=t,this.type=6,this.at=void 0,this.st=e,this.options=s}get nt(){return this.st.nt}rt(t){At(this,t)}}const Li=de.litHtmlPolyfillSupport;Li?.(zt,ns),((ss=de.litHtmlVersions)!==null&&ss!==void 0?ss:de.litHtmlVersions=[]).push("2.8.0");const ji=(a,t,e)=>{var s,i;const n=(s=e?.renderBefore)!==null&&s!==void 0?s:t;let r=n.Ot;if(r===void 0){const o=(i=e?.renderBefore)!==null&&i!==void 0?i:null;n.Ot=r=new ns(t.insertBefore(Ht(),o),o,void 0,e??{})}return r.rt(a),r};const bo=a=>a.strings===void 0;const rs={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Oi=a=>(...t)=>({Mt:a,values:t});let Ni=class{constructor(t){}get nt(){return this.st.nt}bt(t,e,s){this.pt=t,this.st=e,this.Nt=s}Lt(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};const Kt=(a,t)=>{var e,s;const i=a.at;if(i===void 0)return!1;for(const n of i)(s=(e=n).xt)===null||s===void 0||s.call(e,t,!1),Kt(n,t);return!0},pe=a=>{let t,e;do{if((t=a.st)===void 0)break;e=t.at,e.delete(a),a=t}while(e?.size===0)},qi=a=>{for(let t;t=a.st;a=t){let e=t.at;if(e===void 0)t.at=e=new Set;else if(e.has(a))break;e.add(a),yo(t)}};function fo(a){this.at!==void 0?(pe(this),this.st=a,qi(this)):this.st=a}function vo(a,t=!1,e=0){const s=this.tt,i=this.at;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(s))for(let n=e;n<s.length;n++)Kt(s[n],!1),pe(s[n]);else s!=null&&(Kt(s,!1),pe(s));else Kt(this,a)}const yo=a=>{var t,e,s,i;a.type==rs.CHILD&&((t=(s=a).vt)!==null&&t!==void 0||(s.vt=vo),(e=(i=a).qt)!==null&&e!==void 0||(i.qt=fo))};let $o=class extends Ni{constructor(){super(...arguments),this.at=void 0}bt(t,e,s){super.bt(t,e,s),qi(this),this.isConnected=t.nt}xt(t,e=!0){var s,i;t!==this.isConnected&&(this.isConnected=t,t?(s=this.reconnected)===null||s===void 0||s.call(this):(i=this.disconnected)===null||i===void 0||i.call(this)),e&&(Kt(this,t),pe(this))}setValue(t){if(bo(this.pt))this.pt.rt(t,this);else{const e=[...this.pt.tt];e[this.Nt]=t,this.pt.rt(e,this,0)}}disconnected(){}reconnected(){}};const Di=a=>a??M;let ko=class extends $o{constructor(t){super(t),this.h=null,this.ra=null,this.w=!1,this.w=t.type===rs.ATTRIBUTE}render(t){this.h!==t&&(this.h=t,this.disconnected(),this.isConnected&&this.Si());const e=this.h();return this.w?Di(e):e}reconnected(){this.Si()}disconnected(){this.w||this.setValue(null),this.ra?.(),this.ra=null}Si(){this.h&&(this.ra=l(this.o.bind(this)))}o(){this.setValue(this.h?.())}};const X=Oi(ko);function O(a){return X(F(a))}class os extends HTMLElement{constructor(){super(...arguments),this.rootPart=null}connectedCallback(){this.rootPart=ji(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){this.rootPart?.setConnected(!1),this.rootPart=null}}class Fi{constructor(t,e){this.Wj=t,this.Ca=e,this.elements=new Set,this.vf=at(this.ea.bind(this))}connect(){this.ea();const t=new MutationObserver(this.vf);t.observe(this.Wj,{childList:!0}),T(()=>t.disconnect()),T(this.disconnect.bind(this))}disconnect(){this.elements.clear()}assign(t,e){t instanceof Node?(e.textContent="",e.append(t)):ji(t,e),e.style.display||(e.style.display="contents");const s=e.firstElementChild;if(!s)return;const i=e.getAttribute("data-class");i&&s.classList.add(...i.split(" "))}ea(){for(const t of this.Wj.querySelectorAll("slot"))t.hasAttribute("name")&&this.elements.add(t);this.Ca(this.elements)}}let wo=0,me="data-slot-id";class Ii{constructor(t){this.Wj=t,this.vf=at(this.ea.bind(this)),this.slots=new Fi(t,this.ea.bind(this))}connect(){this.slots.connect(),this.ea();const t=new MutationObserver(this.vf);t.observe(this.Wj,{childList:!0}),T(()=>t.disconnect())}ea(){for(const t of this.Wj.children){if(t.nodeType!==1)continue;const e=t.getAttribute("slot");if(!e)continue;t.style.display="none";let s=t.getAttribute(me);s||t.setAttribute(me,s=++wo+"");for(const i of this.slots.elements){if(i.getAttribute("name")!==e||i.getAttribute(me)===s)continue;const n=document.importNode(t,!0);e.includes("-icon")&&n.classList.add("vds-icon"),n.style.display="",n.removeAttribute("slot"),this.slots.assign(n,i),i.setAttribute(me,s)}}}}function ge({label:a,icon:t}){return k`
    <media-menu-button class="vds-menu-button">
      <slot name="menu-arrow-left-icon" data-class="vds-menu-button-close-icon"></slot>
      <slot name="${t}-icon" data-class="vds-menu-button-icon"></slot>
      <span class="vds-menu-button-label">${X(a)}</span>
      <span class="vds-menu-button-hint" data-part="hint"></span>
      <slot name="menu-arrow-right-icon" data-class="vds-menu-button-open-icon"></slot>
    </media-menu-button>
  `}function S(a,t){return O(()=>_(a,t))}function Ut({tooltip:a}){const{translations:t}=N(),{paused:e}=g().$state,s=O(()=>_(t,e()?"Play":"Pause"));return k`
    <media-tooltip class="vds-play-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-play-button class="vds-play-button vds-button" aria-label=${s}>
          <slot name="play-icon" data-class="vds-play-icon"></slot>
          <slot name="pause-icon" data-class="vds-pause-icon"></slot>
          <slot name="replay-icon" data-class="vds-replay-icon"></slot>
        </media-play-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-play-tooltip-text">${S(t,"Play")}</span>
        <span class="vds-pause-tooltip-text">${S(t,"Pause")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function be({tooltip:a}){const{translations:t}=N(),{muted:e}=g().$state,s=O(()=>_(t,(e(),"Unmute")));return k`
    <media-tooltip class="vds-mute-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-mute-button class="vds-mute-button vds-button" aria-label=${s}>
          <slot name="mute-icon" data-class="vds-mute-icon"></slot>
          <slot name="volume-low-icon" data-class="vds-volume-low-icon"></slot>
          <slot name="volume-high-icon" data-class="vds-volume-high-icon"></slot>
        </media-mute-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-mute-tooltip-text">${S(t,"Unmute")}</span>
        <span class="vds-unmute-tooltip-text">${S(t,"Mute")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function fe({tooltip:a}){const{translations:t}=N(),{textTrack:e}=g().$state,s=O(()=>_(t,e()?"Closed-Captions Off":"Closed-Captions On"));return k`
    <media-tooltip class="vds-caption-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-caption-button class="vds-caption-button vds-button" aria-label=${s}>
          <slot name="cc-on-icon" data-class="vds-cc-on-icon"></slot>
          <slot name="cc-off-icon" data-class="vds-cc-off-icon"></slot>
        </media-caption-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-cc-on-tooltip-text">${S(t,"Closed-Captions Off")}</span>
        <span class="vds-cc-off-tooltip-text">${S(t,"Closed-Captions On")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function xo(){const{translations:a}=N(),{pictureInPicture:t}=g().$state,e=O(()=>_(a,t()?"Exit PiP":"Enter PiP"));return k`
    <media-tooltip class="vds-pip-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-pip-button class="vds-pip-button vds-button" aria-label=${e}>
          <slot name="pip-enter-icon" data-class="vds-pip-enter-icon"></slot>
          <slot name="pip-exit-icon" data-class="vds-pip-exit-icon"></slot>
        </media-pip-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content">
        <span class="vds-pip-enter-tooltip-text">${S(a,"Enter PiP")}</span>
        <span class="vds-pip-exit-tooltip-text">${S(a,"Exit PiP")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Ri({tooltip:a}){const{translations:t}=N(),{fullscreen:e}=g().$state,s=O(()=>_(t,e()?"Exit Fullscreen":"Enter Fullscreen"));return k`
    <media-tooltip class="vds-fullscreen-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-fullscreen-button class="vds-fullscreen-button vds-button" aria-label=${s}>
          <slot name="fs-enter-icon" data-class="vds-fs-enter-icon"></slot>
          <slot name="fs-exit-icon" data-class="vds-fs-exit-icon"></slot>
        </media-fullscreen-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-fs-enter-tooltip-text">${S(t,"Enter Fullscreen")}</span>
        <span class="vds-fs-exit-tooltip-text">${S(t,"Exit Fullscreen")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function ve({seconds:a,tooltip:t}){const{translations:e}=N(),s=a>=0?"Seek Forward":"Seek Backward",i=S(e,s);return k`
    <media-tooltip class="vds-seek-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-seek-button
          class="vds-seek-button vds-button"
          seconds=${a}
          aria-label=${i}
        >
          ${a>=0?k`<slot name="seek-forward-icon"></slot>`:k`<slot name="seek-backward-icon"></slot>`}
        </media-seek-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${t}>
        ${S(e,s)}
      </media-tooltip-content>
    </media-tooltip>
  `}function Hi(){const{translations:a}=N(),t=S(a,"Volume");return k`
    <media-volume-slider class="vds-volume-slider vds-slider" aria-label=${t}>
      <div class="vds-slider-track"></div>
      <div class="vds-slider-track-fill vds-slider-track"></div>
      <media-slider-preview class="vds-slider-preview" no-clamp>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
      <div class="vds-slider-thumb"></div>
    </media-volume-slider>
  `}function ye(){const{width:a}=g().$state,{thumbnails:t,translations:e}=N(),s=S(e,"Seek");return k`
    <media-time-slider class="vds-time-slider vds-slider" aria-label=${s}>
      <media-slider-chapters class="vds-slider-chapters" ?disabled=${X(()=>a()<768)}>
        <template>
          <div class="vds-slider-chapter">
            <div class="vds-slider-track"></div>
            <div class="vds-slider-track-fill vds-slider-track"></div>
            <div class="vds-slider-progress vds-slider-track"></div>
          </div>
        </template>
      </media-slider-chapters>
      <div class="vds-slider-thumb"></div>
      <media-slider-preview class="vds-slider-preview">
        <media-slider-thumbnail
          class="vds-slider-thumbnail vds-thumbnail"
          src=${X(t)}
        ></media-slider-thumbnail>
        <div class="vds-slider-chapter-title" data-part="chapter-title"></div>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
    </media-time-slider>
  `}function Bi(){const{translations:a}=N(),{live:t}=g().$state,e=S(a,"Skip To Live"),s=S(a,"LIVE");return t()?k`
    <media-live-button class="vds-live-button" aria-label=${e}>
      <span class="vds-live-button-text">${s}</span>
    </media-live-button
  `:null}function To(){return k`
    <div class="vds-time-group">
      <media-time class="vds-time" type="current"></media-time>
      <div class="vds-time-divider">/</div>
      <media-time class="vds-time" type="duration"></media-time>
    </div>
  `}function hs(){const{live:a}=g().$state;return a()?Bi():To()}function Vi(a,t){return k`
    <media-menu-portal .container=${a} disabled="fullscreen">
      ${t}
    </media-menu-portal>
  `}function Ki({placement:a,tooltip:t,portal:e}){const{viewType:s}=g().$state,{translations:i,smQueryList:n,thumbnails:r,menuContainer:o,noModal:h,menuGroup:c}=N(),p=F(()=>h()?Gt(a):n.matches?null:Gt(a)),b=F(()=>!n.matches&&c()==="bottom"&&s()==="video"?26:0),w=k`
    <media-menu-items
      class="vds-chapters-menu-items vds-menu-items"
      placement=${X(p)}
      offset=${X(b)}
    >
      <media-chapters-radio-group
        class="vds-chapters-radio-group vds-radio-group"
        thumbnails=${X(r)}
      >
        <template>
          <media-radio class="vds-chapter-radio vds-radio">
            <media-thumbnail class="vds-thumbnail"></media-thumbnail>
            <div class="vds-chapter-radio-content">
              <span class="vds-chapter-radio-label" data-part="label"></span>
              <span class="vds-chapter-radio-start-time" data-part="start-time"></span>
              <span class="vds-chapter-radio-duration" data-part="duration"></span>
            </div>
          </media-radio>
        </template>
      </media-chapters-radio-group>
    </media-menu-items>
  `;return k`
    <!-- Chapters Menu -->
    <media-menu class="vds-chapters-menu vds-menu">
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${S(i,"Chapters")}
          >
            <slot name="menu-chapters-icon"></slot>
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${xs(t)?X(t):t}
        >
          ${S(i,"Chapters")}
        </media-tooltip-content>
      </media-tooltip>
      ${e?Vi(o,w):w}
    </media-menu>
  `}function Ui({placement:a,portal:t,tooltip:e}){const{viewType:s,canSetPlaybackRate:i,canSetQuality:n,qualities:r,audioTracks:o,textTracks:h}=g().$state,{translations:c,smQueryList:p,menuContainer:b,noModal:w,menuGroup:C}=N(),st=F(()=>w()?Gt(a):p.matches?null:Gt(a)),it=F(()=>!p.matches&&C()==="bottom"&&s()==="video"?26:0),Ba=F(()=>i()||n()&&r().length||o().length||h().filter(I).length),fs=k`
    <media-menu-items
      class="vds-settings-menu-items vds-menu-items"
      placement=${X(st)}
      offset=${X(it)}
    >
      ${Eo()}${Po()}${So()}${Co()}
    </media-menu-items>
  `,Va=k`
    <media-menu class="vds-settings-menu vds-menu">
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${S(c,"Settings")}
          >
            <slot name="menu-settings-icon" data-class="vds-rotate-icon"></slot>
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${xs(e)?X(e):e}
        >
          ${S(c,"Settings")}
        </media-tooltip-content>
      </media-tooltip>
      ${t?Vi(b,fs):fs}
    </media-menu>
  `;return O(()=>Ba()?Va:null)}function Eo(){const{translations:a}=N();return k`
    <!-- Audio Menu -->
    <media-menu class="vds-audio-menu vds-menu">
      ${ge({label:()=>_(a,"Audio"),icon:"menu-audio"})}
      <media-menu-items class="vds-menu-items">
        <media-audio-radio-group
          class="vds-audio-radio-group vds-radio-group"
          empty-label=${S(a,"Default")}
        >
          <template>
            <media-radio class="vds-audio-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-audio-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Po(){const{translations:a}=N();return k`
    <!-- Speed Menu -->
    <media-menu class="vds-speed-menu vds-menu">
      ${ge({label:()=>_(a,"Speed"),icon:"menu-speed"})}
      <media-menu-items class="vds-menu-items">
        <media-speed-radio-group
          class="vds-speed-radio-group vds-radio-group"
          normal-label=${S(a,"Normal")}
        >
          <template>
            <media-radio class="vds-speed-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-speed-radio-group>
      </media-menu-items>
    </media-menu>
  `}function So(){const{translations:a}=N();return k`
    <!-- Quality Menu -->
    <media-menu class="vds-quality-menu vds-menu">
      ${ge({label:()=>_(a,"Quality"),icon:"menu-quality"})}
      <media-menu-items class="vds-menu-items">
        <media-quality-radio-group
          class="vds-quality-radio-group vds-radio-group"
          auto-label=${S(a,"Auto")}
        >
          <template>
            <media-radio class="vds-quality-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
              <span class="vds-radio-hint" data-part="bitrate"></span>
            </media-radio>
          </template>
        </media-quality-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Co(){const{translations:a}=N();return k`
    <!-- Captions Menu -->
    <media-menu class="vds-captions-menu vds-menu">
      ${ge({label:()=>_(a,"Captions"),icon:"menu-captions"})}
      <media-menu-items class="vds-menu-items">
        <media-captions-radio-group
          class="vds-captions-radio-group vds-radio-group"
          off-label=${S(a,"Off")}
        >
          <template>
            <media-radio class="vds-caption-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-captions-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Qi(a){let t=document.querySelector(`body > .${a}`);return t||(t=document.createElement("div"),t.style.display="contents",t.classList.add(a),document.body.append(t)),t}function Ao(){return k`
    <media-captions class="vds-captions"></media-captions>

    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">${ye()}</media-controls-group>

      <media-controls-group class="vds-controls-group">
        ${ve({seconds:-10,tooltip:"top start"})}
        ${Ut({tooltip:"top"})}${ve({tooltip:"top",seconds:10})}
        ${O(hs)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${be({tooltip:"top"})}
        ${Hi()}${fe({tooltip:"top"})} ${zi()}
      </media-controls-group>
    </media-controls>
  `}function Mo(){return k`
    <media-captions class="vds-captions"></media-captions>
    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">
        ${O(Lo)}
        ${be({tooltip:"top start"})}${O(Bi)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${fe({tooltip:"top"})}${zi()}
      </media-controls-group>

      <media-controls-group class="vds-controls-group">${ye()}</media-controls-group>

      ${O(jo)}${O(Oo)}
    </media-controls>
  `}function Lo(){const{live:a,canSeek:t}=g().$state;return a()&&!t()?Ut({tooltip:"top start"}):null}function jo(){const{live:a}=g().$state;return a()?null:k`
        <media-controls-group class="vds-controls-group">
          <media-time class="vds-time" type="current"></media-time>
          <div class="vds-controls-spacer"></div>
          <media-time class="vds-time" type="duration"></media-time>
        </media-controls-group>
      `}function Oo(){const{canSeek:a}=g().$state;return a()?k`
        <media-controls-group class="vds-controls-group">
          <div class="vds-controls-spacer"></div>
          ${ve({seconds:-10,tooltip:"top"})}
          ${Ut({tooltip:"top"})}
          ${ve({tooltip:"top",seconds:10})}
          <div class="vds-controls-spacer"></div>
        </media-controls-group>
      `:null}function zi(){const a="top end";return k`
    ${Ki({tooltip:"top",placement:a,portal:!0})}
    ${Ui({tooltip:"top end",placement:a,portal:!0})}
  `}class ls extends Ni{constructor(t){if(super(t),this.et=M,t.type!==rs.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===M||t==null)return this.ft=void 0,this.et=t;if(t===Ct)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;const e=[t];return e.raw=e,this.ft={ct:this.constructor.resultType,strings:e,values:[]}}}ls.directiveName="unsafeHTML",ls.resultType=1;class cs extends ls{}cs.directiveName="unsafeSVG",cs.resultType=2;const No=Oi(cs);function qo({name:a,class:t,state:e,paths:s}){return k`<svg
    class="${"vds-icon"+(t?` ${t}`:"")}"
    viewBox="0 0 32 32"
    fill="none"
    aria-hidden="true"
    focusable="false"
    xmlns="http://www.w3.org/2000/svg"
    data-icon=${Di(a??e)}
  >
    ${D(s)?No(s):X(s)}
  </svg>`}class Do{constructor(t){this.Wj=t,this.Zj={},this.bk=!1,this.slots=new Fi(t,this.ck.bind(this))}connect(){this.slots.connect(),T(this.disconnect.bind(this))}load(){this.xe().then(t=>{this.Zj=t,this.bk=!0,this.ck()})}disconnect(){for(const{slot:t}of this.dk())t.textContent=""}*dk(){for(const t of Object.keys(this.Zj)){const e=`${t}-icon`;for(const s of this.slots.elements)s.name===e&&(yield{icon:this.Zj[t],slot:s})}}ck(){if(this.bk)for(const{icon:t,slot:e}of this.dk())this.slots.assign(t,e)}}class Fo extends Do{connect(){const t=this.ik();t&&(super.connect(),t.$state.canLoad()?this.load():u(t,"can-load",()=>this.load(),{once:!0}))}ik(){let t=this.Wj.parentElement;for(;t&&t.localName!=="media-player";)t=t.parentElement;return t}}class Wi extends Fo{async xe(){const t=(await import("./chunks/vidstack-ccbreklR.js")).icons,e={};for(const s of Object.keys(t))e[s]=qo({name:s,paths:t[s]});return e}}class Xi extends v(os,io){onSetup(){this.forwardKeepAlive=!1,this.a=g(),this.classList.add("vds-audio-layout"),this.menuContainer=Qi("vds-audio-layout"),l(()=>{this.menuContainer&&m(this.menuContainer,"data-size",this.isSmallLayout&&"sm")}),T(()=>this.menuContainer?.remove())}onConnect(){l(()=>{this.$props.customIcons()?new Ii(this).connect():new Wi(this).connect()})}yt(){const{streamType:t}=this.a.$state;return this.isMatch&&t()!=="unknown"?this.isSmallLayout?Mo():Ao():null}render(){return k`${O(this.yt.bind(this))}`}}Xi.tagName="media-audio-layout";function Io(){return k`
    ${Gi()}${ds()}
    <media-captions class="vds-captions"></media-captions>

    <div class="vds-scrim"></div>

    <media-controls class="vds-controls">
      ${O(Ho)}

      <div class="vds-controls-spacer"></div>

      <media-controls-group class="vds-controls-group">${ye()}</media-controls-group>

      <media-controls-group class="vds-controls-group">
        ${Ut({tooltip:"top start"})}
        ${be({tooltip:"top"})}${Hi()}
        ${O(hs)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${fe({tooltip:"top"})}${O(Ro)}
        ${xo()} ${Ri({tooltip:"top end"})}
      </media-controls-group>
    </media-controls>
  `}function Ro(){const{menuGroup:a}=N();return a()==="bottom"?us():null}function Ho(){const{menuGroup:a}=N(),t=a()==="top"?k`
            <div class="vds-controls-spacer"></div>
            ${us()}
          `:null;return k`
    <media-controls-group class="vds-controls-group">${t}</media-controls-group>
  `}function Bo(){return k`
    ${Gi()}${ds()}
    <media-captions class="vds-captions"></media-captions>

    <div class="vds-scrim"></div>

    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">
        <div class="vds-controls-spacer"></div>
        ${fe({tooltip:"bottom"})}
        ${us()}${be({tooltip:"bottom end"})}
      </media-controls-group>

      <div class="vds-controls-group">${Ut({tooltip:"top"})}</div>

      <media-controls-group class="vds-controls-group">
        ${O(hs)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        <div class="vds-controls-spacer"></div>
        ${Ri({tooltip:"top end"})}
      </media-controls-group>

      <media-controls-group class="vds-controls-group">${ye()}</media-controls-group>
    </media-controls>

    ${O(Vo)}
  `}function Vo(){const{duration:a}=g().$state;return a()===0?null:k`
    <div class="vds-start-duration">
      <media-time class="vds-time" type="duration"></media-time>
    </div>
  `}function ds(){return k`
    <div class="vds-buffering-indicator">
      <media-spinner class="vds-buffering-spinner"></media-spinner>
    </div>
  `}function us(){const{menuGroup:a,smQueryList:t}=N(),e=()=>a()==="top"||t.matches?"bottom":"top",s=F(()=>`${e()} ${a()==="top"?"end":"center"}`),i=F(()=>`${e()} end`);return k`
    ${Ki({tooltip:s,placement:i,portal:!0})}
    ${Ui({tooltip:s,placement:i,portal:!0})}
  `}function Gi(){return k`
    <div class="vds-gestures">
      <media-gesture class="vds-gesture" event="pointerup" action="toggle:paused"></media-gesture>
      <media-gesture class="vds-gesture" event="pointerup" action="toggle:controls"></media-gesture>
      <media-gesture
        class="vds-gesture"
        event="dblpointerup"
        action="toggle:fullscreen"
      ></media-gesture>
      <media-gesture class="vds-gesture" event="dblpointerup" action="seek:-10"></media-gesture>
      <media-gesture class="vds-gesture" event="dblpointerup" action="seek:10"></media-gesture>
    </div>
  `}class Yi extends v(os,ao){onSetup(){this.forwardKeepAlive=!1,this.a=g(),this.classList.add("vds-video-layout"),this.menuContainer=Qi("vds-video-layout"),l(()=>{this.menuContainer&&m(this.menuContainer,"data-size",this.isSmallLayout&&"sm")}),T(()=>this.menuContainer?.remove())}onConnect(){l(()=>{this.$props.customIcons()?new Ii(this).connect():new Wi(this).connect()})}yt(){const{streamType:t}=this.a.$state;return this.isMatch?t()==="unknown"?ds():this.isSmallLayout?Bo():Io():null}render(){return k`${O(this.yt.bind(this))}`}}Yi.tagName="media-video-layout",f(Xi),f(Yi);class Ji extends v(HTMLElement,si){}Ji.tagName="media-caption-button";class Zi extends v(HTMLElement,ii){}Zi.tagName="media-fullscreen-button";class _i extends v(HTMLElement,oi){}_i.tagName="media-live-button";class ta extends v(HTMLElement,ai){}ta.tagName="media-mute-button";class ea extends v(HTMLElement,ni){}ea.tagName="media-pip-button";class sa extends v(HTMLElement,ei){}sa.tagName="media-play-button";class ia extends v(HTMLElement,ri){}ia.tagName="media-seek-button";class aa extends v(HTMLElement,qe){}aa.tagName="media-toggle-button";class na extends v(HTMLElement,fi){}na.tagName="media-captions";class Ko extends y{}class ra extends v(HTMLElement,Ko){onSetup(){this.a=g(),this.Xj=x(""),this.ak=F(this.hk.bind(this))}onConnect(){Jt(this.a.textTracks,"chapters",t=>{if(!t){this.Xj.set("");return}const e=()=>{const s=t?.activeCues[0];this.Xj.set(s?.text||"")};e(),u(t,"cue-change",e)}),l(()=>{this.textContent=this.ak()})}hk(){const{title:t,started:e}=this.a.$state,s=t(),i=this.Xj();return e()?i||s:s||i}}ra.tagName="media-chapter-title";class oa extends v(HTMLElement,Js){}oa.tagName="media-controls";class ha extends v(HTMLElement,lr){}ha.tagName="media-controls-group";class la extends v(HTMLElement,bi){}la.tagName="media-gesture";class ca extends y{}ca.props={when:""};class da extends v(HTMLElement,ca){onSetup(){this.query=Yt.create(this.$props.when)}onConnect(){l(this.jg.bind(this))}jg(){const t=this.firstElementChild,e=t?.localName==="template",s=t instanceof HTMLElement;if(!this.query.matches){e?(this.textContent="",this.appendChild(t)):s&&(t.style.display="none");return}e?this.append(t.content.cloneNode(!0)):s&&(t.style.display="")}}da.tagName="media-layout";function Qt(a,t){ct(()=>{if(!a.connectScope)return;const e=a.querySelector("template");e&&l(()=>{const s=a.getOptions();Ms(e,s.length,(i,n)=>{const{label:r,value:o}=s[n],h=i.querySelector('[data-part="label"]');i.setAttribute("value",o),h&&(D(r)?h.textContent=r:l(()=>{h.textContent=r()})),t?.(i,s[n],n)})})})}class ua extends v(HTMLElement,Dt){onConnect(){Qt(this)}}ua.tagName="media-audio-radio-group";class pa extends v(HTMLElement,Ft){onConnect(){Qt(this)}}pa.tagName="media-captions-radio-group";class ma extends v(HTMLElement,qt){onConnect(){Qt(this,(t,e)=>{const{cue:s,startTime:i,duration:n}=e,r=t.querySelector(".vds-thumbnail,media-thumbnail"),o=t.querySelector('[data-part="start-time"]'),h=t.querySelector('[data-part="duration"]');o&&(o.textContent=i),h&&(h.textContent=n),r&&(r.setAttribute("time",s.startTime+""),l(()=>{const{thumbnails:c}=this.$props;r.setAttribute("src",c())}))})}}ma.tagName="media-chapters-radio-group";class ga extends v(HTMLElement,re){}ga.tagName="media-menu-button";class ba extends v(HTMLElement,mt){}ba.tagName="media-menu";class fa extends v(HTMLElement,Dr){}fa.tagName="media-menu-item";class va extends v(HTMLElement,mi){}va.tagName="media-menu-items";class ps extends v(HTMLElement,pi){}ps.tagName="media-menu-portal",ps.attrs={disabled:{converter(a){return D(a)?a:a!==null}}};class ya extends v(HTMLElement,Rt){onConnect(){Qt(this,(t,e)=>{const s=e.bitrate,i=t.querySelector('[data-part="bitrate"]');s&&i&&l(()=>{i.textContent=s()||""})})}}ya.tagName="media-quality-radio-group";class $a extends v(HTMLElement,ze){}$a.tagName="media-radio";class ka extends v(HTMLElement,he){}ka.tagName="media-radio-group";class wa extends v(HTMLElement,It){onConnect(){Qt(this)}}wa.tagName="media-speed-radio-group";class xa extends v(HTMLElement,Ze){constructor(){super(...arguments),this.Uj=document.createElement("img")}onSetup(){this.a=g(),this.$state.img.set(this.Uj)}onConnect(){const{src:t,alt:e}=this.$state,{crossorigin:s}=this.a.$state;this.Uj.parentNode!==this&&this.prepend(this.Uj),l(()=>{m(this.Uj,"src",t()),m(this.Uj,"alt",e()),m(this.Uj,"crossorigin",/ytimg\.com|vimeo/.test(t()||"")?null:s())})}}xa.tagName="media-poster";class Ta extends v(HTMLElement,Tt){constructor(){super(...arguments),this.$j=null}onConnect(){ct(()=>{if(!this.connectScope)return;const t=this.querySelector("template");t&&(this.$j=t,l(this.jk.bind(this)))})}jk(){if(!this.$j)return;const t=Ms(this.$j,this.cues.length||1);this.setRefs(t)}}Ta.tagName="media-slider-chapters";class Ea extends v(HTMLElement,pt){}Ea.tagName="media-slider";class Pa extends v(HTMLElement,di){}Pa.tagName="media-slider-preview";const Uo=Ae('<img loading="eager" decoding="async" aria-hidden="true">');class ms extends v(HTMLElement,He){constructor(){super(...arguments),this.Uj=this.gk()}onSetup(){this.a=g(),this.$state.img.set(this.Uj)}onConnect(){const{src:t}=this.$state,{crossorigin:e}=this.a.$props;this.Uj.parentNode!==this&&this.prepend(this.Uj),l(()=>{m(this.Uj,"src",t()),m(this.Uj,"crossorigin",e())})}gk(){return Me(Uo)}}ms.tagName="media-thumbnail";class Sa extends ms{onSetup(){super.onSetup(),this.Q=Lt(pt.state)}onConnect(){super.onConnect(),l(this.ag.bind(this))}ag(){const{duration:t}=this.a.$state;this.time=this.Q.pointerRate()*t()}}Sa.tagName="media-slider-thumbnail";class gs extends v(HTMLElement,Ke){onConnect(){l(()=>{this.textContent=this.getValueText()})}}gs.tagName="media-slider-value",gs.attrs={padMinutes:{converter:tn}};const Qo=Ae('<video muted playsinline preload="none" style="max-width: unset;"></video>');class Ca extends v(HTMLElement,se){constructor(){super(...arguments),this.m=this.Yj()}onSetup(){this.a=g(),this.$state.video.set(this.m)}onConnect(){const{crossorigin:t,canLoad:e}=this.a.$state,{src:s}=this.$state;this.m.parentNode!==this&&this.prepend(this.m),l(()=>{m(this.m,"src",s()),m(this.m,"crossorigin",t()),m(this.m,"preload",e()?"auto":"none")})}Yj(){return Me(Qo)}}Ca.tagName="media-slider-video";class Aa extends v(HTMLElement,ae){}Aa.tagName="media-time-slider";class Ma extends v(HTMLElement,Ue){}Ma.tagName="media-volume-slider";class La extends y{onConnect(t){ct(()=>{if(!this.connectScope)return;const e=t.querySelector("svg"),s=e.firstElementChild,i=s.nextElementSibling;l(this.ea.bind(this,e,s,i))})}ea(t,e,s){const{size:i,trackWidth:n,fillPercent:r}=this.$props;m(t,"width",i()),m(t,"height",i()),m(e,"stroke-width",n()),m(s,"stroke-width",n()),m(s,"stroke-dashoffset",100-r())}}La.props={size:96,trackWidth:8,fillPercent:50};class ja extends v(os,La){render(){return k`
      <svg fill="none" viewBox="0 0 120 120" aria-hidden="true" data-part="root">
        <circle cx="60" cy="60" r="54" stroke="currentColor" data-part="track"></circle>
        <circle
          cx="60"
          cy="60"
          r="54"
          stroke="currentColor"
          pathLength="100"
          stroke-dasharray="100"
          data-part="track-fill"
        ></circle>
      </svg>
    `}}ja.tagName="media-spinner";class Oa extends v(HTMLElement,_e){onConnect(){l(()=>{this.textContent=this.$state.timeText()})}}Oa.tagName="media-time";class Na extends v(HTMLElement,ti){}Na.tagName="media-tooltip-content";class qa extends v(HTMLElement,_s){}qa.tagName="media-tooltip";class Da extends v(HTMLElement,dr){onConnect(){this.style.display="contents"}}Da.tagName="media-tooltip-trigger",f(da),f(oa),f(ha),f(xa),f(Ji),f(Zi),f(ta),f(ea),f(sa),f(ia),f(aa),f(Ea),f(Ma),f(Aa),f(Ta),f(Pa),f(gs),f(Sa),f(Ca),f(ba),f(ga),f(ps),f(va),f(fa),f(ua),f(pa),f(wa),f(ya),f(ma),f(ka),f($a),f(qa),f(Da),f(Na),f(la),f(ms),f(na),f(_i),f(Oa),f(ra),f(ja);const zo=Ae('<svg width="100%" height="100%" viewBox="0 0 32 32" fill="none" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"></svg>');class Fa extends HTMLElement{constructor(){super(...arguments),this.mk=this.ok(),this.nk=x(""),this.vb=x(null),this.sa=[]}static get observedAttributes(){return["type"]}get type(){return this.vb()}set type(t){this.vb.set(t),t?this.setAttribute("type",t):this.removeAttribute("type")}attributeChangedCallback(t,e,s){t==="type"&&this.vb.set(s||null)}connectedCallback(){this.classList.add("vds-icon"),this.mk.parentNode!==this&&this.prepend(this.mk),this.sa.push(l(this.pk.bind(this)),l(()=>{this.mk.innerHTML=this.nk()}))}disconnectedCallback(){for(const t of this.sa)t();this.sa.length=0}ok(){return Me(zo)}pk(){const t=this.vb();t&&Cs[t]?Cs[t]().then(({default:e})=>{t===d(this.vb)&&this.nk.set(e)}):this.nk.set("")}}Fa.tagName="media-icon",f(Fa);
